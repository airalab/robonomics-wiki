{"hash":"8743c467676dc3cd7f6ddfa61e2f4d3a0ae90c1a","data":{"doc":{"id":"ebffe57b8749a95377e76c6bd1cf3384","title":"Connect an Air Pollution Sensor","description":"","cover_image":{"type":"image","mimeType":"image/png","src":"/assets/static/hardware-connect-sensor.0b85c65.1814f8f97dac2a3505944e25797662e1.png","size":{"width":1920,"height":1080},"sizes":"(max-width: 1920px) 100vw, 1920px","srcset":["/assets/static/hardware-connect-sensor.1b91758.1814f8f97dac2a3505944e25797662e1.png 480w","/assets/static/hardware-connect-sensor.3df3210.1814f8f97dac2a3505944e25797662e1.png 1024w","/assets/static/hardware-connect-sensor.0b85c65.1814f8f97dac2a3505944e25797662e1.png 1920w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1920 1080' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-f42852cdb4d4338b243cad88182f3195'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-f42852cdb4d4338b243cad88182f3195)' width='1920' height='1080' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAkCAYAAAA5DDySAAAACXBIWXMAAAsSAAALEgHS3X78AAADaUlEQVRo3u2YWU9TQRTH%2bQhGUR9UBFQExbglPvkdfPTJ6BPEKIgsYd8RCCAgIERAUBACKCCKILLJvrm%2byI7IUlq2lrbsXP7eM7ZQFiuJrWlwTnJy75yZOTP3d2cmc47ZAStbkJpbnsTeI8dhbX8RSpUKJIIgwFCyuroKUxSz/eKHk1qdvrAFAMnwyCh6%2bwcwODSMzu4eDA2PYGDwB6SycfT29WNkVAKJVIo%2bTZvBoSFMTk2t9aF6uVxhshDM9lmcYB9/5eo1WNieheWp8xsA5Ba8gIunL9KeZOO6wy0kPUpHQFgkQiJjEHH/AfxDI%2bATFAavwFBk5eYjISUVRa/ewNHZDcER0YiKS0RzWwfztbKyYnoAzI/awMLuHOwvXcYhG3tYijB0AcwolRiTytgfp78plckgG5%2bAXKHAiESCablcUy/D%2bMSkWDcOlUqNyckpTLDyBJRKlemuALb/RQh7xZWw5/AxWJ/5D88AgnDQ2m7LGUCTJhUE7VNYs%2bmWBY2u6lGTXgFa3Q7AbhcOgAPgADgADoAD4AB%2bD0DfZUbXtrndZrtu%2bU/v%2bur/KQBBZ1C69VEws0WZXdgwSbLrXqO1t0atLGuCIrJTf23dut/1ttuP9%2btpiBvmjrYABTyGiAHm5ud3POnFxUXMi%2b2NHV/oBUBSUVUjhsSFaG5tR31TCyqqa1FVW4ea%2bgbU1DWg4%2bNnlJa/Q1NrG1rbPyAlPRMNza0sF1BZ8x7JaRl4XVaBzq4ePEx9jNjEZOYrNTOLte3/PsjsxWIITT7KK6vxratb7POWheCNLW1sPNK6xmY2Bs2D7EZfASTPi0vwNCcPkbEJuOvph/CYOPiFhLNY/4bjbZYPiIpPRH7hSxSVlMLZwxtB4VEoKS1Hdl4B3H0D4eTuhU9fviIjOweZz3Lh5hMA78BQODi5wjsojOUTyI%2brtz/LK9CYZRWVrN9NFw94BYQgOj4Jjnfc4Bt8j%2bUnaE7aLWJUAEtLS5CMSaGenWVxPpVpKdMSnZubY6qYmWH1VLewsIBZ0TYvPpeXl1mZ6tl%2b1%2bx9hWKG%2bSB/09NyqNWzoqpZO/JL/SiHQGXyQz7IrhLbqMS50fy058TfbgP9h6AB8wG6h6mhcwxGPQRNWY2%2bAvhFiAPgADgADoAD4AA4AA6AA%2bAAOAAOYJfKTxcTiZpoRXsRAAAAAElFTkSuQmCC' /%3e%3c/svg%3e"},"contributors":["ensrationis","akru"],"translated":false,"headings":[],"subtitles":[{"depth":2,"value":"Arduino","anchor":"#arduino"},{"depth":2,"value":"Aira","anchor":"#aira"}],"content":"\nIn this lesson you are going to learn how to connect your sensor to the network and make it publish data. You will see how it is easy to become a member of a global sensor network!\n\nSource code is located [here](https://github.com/airalab/robonomics_tutorials/tree/master/sensor_city).\n\nIn this section we are not going to create a liability contract. Instead we will teach Arduino with sensors to publish the data by a request. All measurements will be published as a Result message.\n\n## Arduino\n\nLet's begin with an Arduino circuit. You need the following components:\n\n* Arduino Uno\n* Optical Dust Sensor Sharp GP2Y1010AU0F\n* Gas Sensor MQ-2\n* Gas Sensor MQ-7\n* Resistor 150 Ohm\n* Capacitor 220 uF\n* Wires\n\nConnect all parts as described below:\n\n<!-- .. image:: ../img/7.png\n  :alt: Arduino schema\n  :align: center -->\n\nA firmware for Arduino Uno is in `sensor_city/scetches` folder. In order to upload it to the board use [Arduino IDE](https://www.arduino.cc/en/Main/Software).\n\n<!-- .. image:: ../img/8.png\n   :alt: Arduino IDE\n   :align: center\n -->\n\n## Aira\n\nThe following steps are performed in Aira client. You can download the latest image from [this page](https://github.com/airalab/aira/releases). It's convenient to [connect via SSH](/docs/aira-connecting-via-ssh/).\n\nAfter you have imported the image to VirtualBox, connect Arduino via USB to your PC and enable serial port forwarding. You should check `Enable Serial Port` and assign `/dev/ttyACM0` in `Path/Address`. Inside the virtual machine `/dev/ttyS0` refers to your external Arduino.\n\n<!-- .. image:: ../img/9.png\n   :alt: Set a port\n   :align: center -->\n\nFinally launch the image and run these command:\n\n```\n$ roslaunch sensor_city publish_data.launch\n```\n\n**Check out the source code to learn how it works under the hood!**\n\nNow Aira patiently waits for a signal to publish the measurements. Go to [Dapp](https://dev.aira.life/smart-city/#/) and click on `Broadcast signal`. You should see the data!","tools":[]}},"context":{}}