{"hash":"6049b68e007bd8fa4054505bb4c1089344ab6865","data":{"doc":{"id":"63d93a1ee4c3d01eb475c039f30073cf","title":"홈 어시스턴트에서 PTZ 카메라 제어","description":"","contributors":["nakata5321"],"headings":[],"subtitles":[{"depth":2,"value":"ONVIF 통합","anchor":"#onvif-통합"},{"depth":2,"value":"대시보드에 카메라 제어 추가","anchor":"#대시보드에-카메라-제어-추가"},{"depth":2,"value":"문제 해결","anchor":"#문제-해결"}],"content":"\n이 기사는 홈 어시스턴트에서 PTZ 카메라 설정 과정을 다룹니다. \nONVIF 프로토콜을 사용합니다. 이를 위해서는 로컬 카메라 계정이 필요합니다.\n\n<robo-wiki-note type=\"warning\">\n로컬 카메라 계정 설정 과정은 이 문서에서 다루지 않습니다.\n</robo-wiki-note>\n\n요구 사항:\n- PTZ 카메라\n- 로컬 카메라 계정\n- 카메라 IP 주소\n- 설정된 홈 어시스턴트\n\n## ONVIF 통합\n\n**ONVIF 통합** 설치로 시작해 봅시다. \n\n\"Settings\"에서 \"Devices & Services\"로 이동하여 \"ADD INTEGRATION\" 버튼을 누르세요.\n\"ONVIF\"를 입력하고 통합을 선택하세요. 다음 창이 표시됩니다.\n\n <robo-wiki-picture src=\"home-assistant/onvifsetup.jpg\" />\n\n\"Submit\" 버튼을 누르세요. 카메라를 자동으로 검색하려고 시도합니다. 성공하면, \n목록에서 카메라를 선택하고 빈 필드를 채우세요. \n그렇지 않으면, 모든 필드를 수동으로 채워야 합니다. 다음 창이 표시됩니다.\n\n <robo-wiki-picture src=\"home-assistant/onvifconfig.jpg\" />\n\n빈 칸을 채우세요:\n- Name - 카메라에 이름을 지정하세요\n- Host - 카메라의 IP 주소를 제공하세요\n- Port - 일반적으로 2020년입니다만, 카메라 제조업체에 따라 다를 수 있습니다\n- Username - 카메라 로컬 계정의 사용자 이름을 입력하세요\n  - Password - 카메라 로컬 계정의 비밀번호를 입력하세요\n\n그리고 \"Submit\"을 누르세요. 카메라의 위치를 선택하고 \"Finish\"를 클릭하세요.\n\n## 대시보드에 카메라 제어 추가\n\n카메라를 완전히 설정했으므로, 대시보드에 스트림과 제어 버튼을 추가할 수 있습니다.\n\n대시보드로 이동하여 새 카드를 만드세요. \"Picture Glance\"를 선택하세요.\n\n <robo-wiki-picture src=\"home-assistant/glance.jpg\" />\n\n데이터를 입력하세요:\n- Title - 카메라 이미지 제목을 선택하세요\n- Camera Entity - 드롭다운 목록에서 카메라 엔티티를 선택하세요\n- Camera View - 지연 시간을 줄이려면 \"live\"을 선택하세요\n\n다음으로, 왼쪽 하단의 버튼을 눌러 \"코드 편집기\" 모드로 전환하세요. 다음 코드가 표시됩니다:\n```shell\ncamera_view: live\ntype: picture-glance\ntitle: Kitchen\nimage: https://demo.home-assistant.io/stub_config/kitchen.png\nentities: []\ncamera_image: camera.tapo_mainstream\n```\n\n`entities: []`의 내용을 아래 예시에 따라 바꾸세요 (`<YOUR_CAMERA_ENTITY>`는 `camera_image` 매개변수와 동일합니다):\n\n<code-helper copy>\n\n```\nentities:\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        pan: LEFT\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Pan Left\n    show_state: false\n    icon: 'mdi:arrow-left'\n    show_icon: true\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        tilt: UP\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Tilt Up\n    icon: 'mdi:arrow-up'\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        tilt: DOWN\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Tilt Down\n    icon: 'mdi:arrow-down'\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        pan: RIGHT\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Pan Right\n    icon: 'mdi:arrow-right'\n    show_icon: true\n```\n\n</code-helper>\n\n이것으로 끝입니다. 이제 대시보드에 PTZ 카메라 카드와 제어 버튼이 표시됩니다.\n\n## 문제 해결\n만약 Home Assistant Core를 사용하고 카메라에서 스트림을 보지 못하는 경우, \"stream\" 및 \"FFMPEG\" 통합을 설치해야 합니다. \n이를 위해 `stream: `과 `ffmpeg: ` 문자열을 configuration.yaml의 끝에 추가해야 합니다.","tools":[],"fileInfo":{"path":"ko/ptz-camera.md","name":"ptz-camera"}}},"context":{}}