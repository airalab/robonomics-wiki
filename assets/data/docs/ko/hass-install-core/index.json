{"hash":"514e8c10e38f03032a4e59dff05dd0f739dc1167","data":{"doc":{"id":"cc6c45ac93c4ec096168a59607784b18","title":"Home Assistant Core","description":"","contributors":["PaTara43","makyul"],"translated":false,"headings":[],"subtitles":[{"depth":2,"value":"Install","anchor":"#install"},{"depth":2,"value":"Verify","anchor":"#verify"}],"content":"\n**This article contains instructions to upgrade your existing Home Assistant Core with Robonomics Integration.**\n\n<robo-wiki-note type=\"warning\" title=\"DISCLAIMER\">\n\n  Here, Robonomics integration and IPFS are to be installed along with existing Home Assistant Core.\n\n  1. This section is designed with an assumption that installation went completely according to \n  [instructions](https://www.home-assistant.io/installation/raspberrypi#install-home-assistant-core) given by Home Assistant\n  developers and there is a <u>homeassistant</u> user and venv. If it is not the case, follow instructions below **but edit the script accordingly**.\n  2. IPFS will be installed and run as a <u>systemd</u> service on the host machine.\n  3. It is assumed that you have Python3.9 or higher installed.\n\n</robo-wiki-note>\n\n## Install\n\nDownload the installation script and run it with bash:\n  \n```shell\nwget https://raw.githubusercontent.com/airalab/robonomics-hass-utils/main/raspberry_pi/install_integration_core.sh\nsudo bash install_integration_core.sh\n```\n\nYou will see the following output:\n\n```shell\n<...>\nhttps://raw.githubusercontent.com/LoSk-p/robonomics-hass-utils/main/raspberry_pi/install_ipfs_arc_dependent.sh\n<...>\nIPFS daemon installed and launched, use ipfs-daemon.service to manage.\n<...>\nA    robonomics/utils.py\nChecked out revision 125.\nIntegration downloaded!\n```\n\nSomewhere along the way you will be asked to confirm the restart of several services. Navigating with `tab`, select the `yes` option.\n  \n<robo-wiki-note type=\"note\" title=\"`custom_components` exists.\">\n\n  You may see an error like `mkdir: can't create directory 'custom_components': File exists`. This\n  means that you have already installed some custom components and the folder exists. Ignore this message.\n\n</robo-wiki-note>\n  \nRestart your Home Assistant.\n\n## Verify\n\nCheck that IPFS service is up and running:\n```shell\nubuntu@ubuntu:~$ systemctl status ipfs-daemon.service \n● ipfs-daemon.service - IPFS Daemon Service\n     Loaded: loaded (/etc/systemd/system/ipfs-daemon.service; enabled; preset: enabled)\n     Active: active (running) since Thu 2022-11-03 11:30:39 UTC; 14min ago\n   Main PID: 4400 (ipfs)\n      Tasks: 12 (limit: 4416)\n     Memory: 141.9M\n        CPU: 3min 5.031s\n     CGroup: /system.slice/ipfs-daemon.service\n             └─4400 /usr/local/bin/ipfs daemon\n```\n\nYou will see the integration available while going through further steps of this tutorial.\n\nNow that the integration is added to the folder of custom components of Home Assistant, you have two options:\n\n- Whether you have MQTT integration installed and some Zigbee devices connected by either Zigbee2MQTT or any other hardware,\nproceed to [Robonomics subscription activation](/docs/sub-activate) and Robonomics Integration configuration.\n- Otherwise, navigate to [MQTT Broker](/docs/mqtt-setup/) installation where you also add MQTT integration to your Home\nAssistant and connect your Zigbee devices to your Home Assistant via preferred hardware.\n","tools":["Ubuntu Server 22.04 LTS https://ubuntu.com/download/raspberry-pi","Home Assistant 2022.11.3 https://github.com/home-assistant/core","Robonomics integration 1.1.3 https://github.com/airalab/homeassistant-robonomics-integration","robonomics-interface 1.3.6 https://github.com/Multi-Agent-io/robonomics-interface/","IPFS 0.14.0 https://docs.ipfs.tech/"],"fileInfo":{"path":"ko/hass-install-core.md","name":"hass-install-core"}}},"context":{}}