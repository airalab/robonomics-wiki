{"hash":"17a604e45f7e10d1f6dfb26852a2a05067b6e681","data":{"doc":{"id":"f1accda89a25cd41e7d61e3d28bc9654","title":"MQTT Setup","description":"","contributors":["nakata5321","PaTara43"],"headings":[],"subtitles":[{"depth":2,"value":"Install MQTT Broker","anchor":"#install-mqtt-broker"},{"depth":2,"value":"Add MQTT Integration","anchor":"#add-mqtt-integration"}],"content":"\n**This article describes how to install MQTT broker for your Raspberry Pi.**\n\n\n## Install MQTT Broker\n\nThere is a quick installation option with a pre-written script, that installs the [Mosquitto](https://mosquitto.org/) MQTT broker. Connect to your Raspberry Pi and run:\n\n```shell\ncurl -O https://raw.githubusercontent.com/airalab/robonomics-hass-utils/main/raspberry_pi/mqtt-install.sh\nbash mqtt-install.sh\n```\n\nYou will be asked to enter `USERNAME` and `PASSWORD` for the broker. After finishing, the broker will be running as a `systemd` service.\n\n## Add MQTT Integration\n\nInstall MQTT integration for Home Assistant. Open Home Assistant web interface and go to `Settings` -> `Devices & Services`.\n\n<robo-wiki-picture src=\"home-assistant/settings.jpg\" alt=\"Home Assistant settings menu\" />\n\nPress `ADD INTEGRATION` at the right bottom corner. In the opened window find `MQTT`:\n\n<robo-wiki-picture src=\"home-assistant/mqtt.jpg\" />\n\nSelect MQTT and set up your broker address — `localhost`, port — `1883`, your username and password (the same which you created earlier for Mosquitto Broker), then press `SUBMIT`.\n\n<robo-wiki-picture src=\"home-assistant/mqtt-setup.jpg\" />\n\nAfter that, you can proceed to add devices. Depending on the hardware you have, choose one of the options:\n\n**Option 1 (with zigbee2MQTT)**\n* For Zigbee adapter [go here](/docs/zigbee-to-mqtt/). Ideal for [JetHome USB JetStick Z2](https://jethome.ru/z2/?sl=en) or similar [supported adapters](https://www.zigbee2mqtt.io/information/supported_adapters.html).\n\n**Option 2 (with SLS Gateway)**\n* For Robonomics SLS Gateway [go here](/docs/sls-gateway/). Open SLS gateway specs your can [find here](https://easyeda.com/ludovich88/robonomics_sls_gateway_v01).","tools":["Mosquitto Broker 2.0.11 https://mosquitto.org/","Home Assistant 2022.11.3 https://github.com/home-assistant/core"],"fileInfo":{"path":"mqtt-setup.md","name":"mqtt-setup"}}},"context":{}}