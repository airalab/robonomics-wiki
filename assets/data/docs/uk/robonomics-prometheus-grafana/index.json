{"hash":"27d6626b76dcb92dd3ddfe09b4010e2c0ab01932","data":{"doc":{"id":"a6637f24af2d22e3ee12b6bfe547b1f7","title":"Robonomics + Prometheus + Grafana","description":"","contributors":["Vourhey"],"headings":[],"subtitles":[{"depth":2,"value":"Вступ","anchor":"#вступ"},{"depth":2,"value":"Передумови","anchor":"#передумови"},{"depth":2,"value":"Крок 1 — Створення користувачів служби","anchor":"#крок-1--створення-користувачів-служби"},{"depth":2,"value":"Крок 2 — Завантаження Prometheus","anchor":"#крок-2--завантаження-prometheus"},{"depth":2,"value":"Крок 3 — Налаштування Prometheus","anchor":"#крок-3--налаштування-prometheus"},{"depth":2,"value":"Крок 4 — Запуск Prometheus","anchor":"#крок-4--запуск-prometheus"},{"depth":2,"value":"Крок 5 — Завантаження Node Exporter","anchor":"#крок-5--завантаження-node-exporter"},{"depth":2,"value":"Крок 6 — Запуск Node Exporter","anchor":"#крок-6--запуск-node-exporter"},{"depth":2,"value":"Крок 7 — Налаштування Prometheus для збору метрик Node Exporter","anchor":"#крок-7--налаштування-prometheus-для-збору-метрик-node-exporter"},{"depth":2,"value":"Крок 8 - Додавання вбудованого експортера Robonomic до node_exporter","anchor":"#крок-8---додавання-вбудованого-експортера-robonomic-до-node_exporter"},{"depth":2,"value":"Крок 9 - Налаштування Grafana","anchor":"#крок-9---налаштування-grafana"},{"depth":2,"value":"Посилання","anchor":"#посилання"}],"content":"\n**Наступна інструкція надана [Hubo Bubo](https://github.com/hubobubo)**\n\n**Оригінальна стаття розташована [тут](https://github.com/hubobubo/robonomics/wiki/Robonomics-(XRT)-metrics-using-Prometheus-and-Grafana)**\n\n## Вступ\nДля кращого моніторингу та підтримки вузлів Robonomics бажано налаштувати моніторинг на основі сервера Prometheus та Grafana. Цей документ покаже, як налаштувати кожен з них для повного моніторингу вашого вузла.\n\n##  Передумови\n* [Налаштування сервера з Ubuntu 18.04](https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04) \n* [Встановлений коллатор Robonomics parachain](https://blog.aira.life/installing-and-running-the-robonomics-validator-in-the-polkadot-network-487ad4c1a567)\n* Переконайтеся, що на вашому комп'ютері працює robonomics.service і порт 9615 доступний \n\n## Крок 1 — Створення користувачів служби\n\nЗ метою безпеки ми почнемо з створення двох нових облікових записів користувачів, prometheus та node_exporter. Створіть цих двох користувачів і використовуйте параметри _--no-create-home_ та _--shell /bin/false_, щоб ці користувачі не могли увійти на сервер.\n```\nsudo useradd --no-create-home --shell /bin/false prometheus\nsudo useradd --no-create-home --shell /bin/false node_exporter\n```\n\nПеред тим, як ми завнтажимо бінарні файли Prometheus, створимо необхідні каталоги для зберігання файлів та даних Prometheus. Відповідно до стандартних конвенцій Linux, ми створимо каталог у _/etc_ для файлів конфігурації Prometheus та каталог у _/var/lib_ для його даних.\n```\nsudo mkdir /etc/prometheus\nsudo mkdir /var/lib/prometheus\n```\nТепер встановіть власника користувача та групи для нових каталогів на користь користувача prometheus.\n```\nsudo chown prometheus:prometheus /etc/prometheus\nsudo chown prometheus:prometheus /var/lib/prometheus\n```\n## Крок 2 — Завантаження Prometheus\n\nСпочатку завантажте та розпакуйте поточну стабільну версію Prometheus у ваш домашній каталог. Ви можете знайти останні бінарні файли на [сторінці завантаження Prometheus.](https://prometheus.io/download/)\n\n```\nwget https://github.com/prometheus/prometheus/releases/download/v2.21.0/prometheus-2.21.0.linux-amd64.tar.gz\n\n```\nТепер розпакуйте завантажений архів.\n\n```\ntar xvf prometheus-2.21.0.linux-amd64.tar.gz\n\n```\nЦе створить каталог з назвою prometheus-2.21.0.linux-amd64, що містить два бінарних файли (prometheus та promtool), каталоги _consoles_ та _console_libraries_ з файлами інтерфейсу веб-сторінки, ліцензию, повідомлення та кілька прикладових файлів.\n\nСкопіюйте два бінарних файли в каталог _/usr/local/bin_.\n\n```\nsudo cp prometheus-2.21.0.linux-amd64/prometheus /usr/local/bin/\nsudo cp prometheus-2.21.0.linux-amd64/promtool /usr/local/bin/\n\n```\nВстановіть власника користувача та групи для бінарних файлів на користь користувача prometheus, створеного на кроці 1.\n\n```\nsudo chown prometheus:prometheus /usr/local/bin/prometheus\nsudo chown prometheus:prometheus /usr/local/bin/promtool\n\n```\nСкопіюйте каталоги consoles та _console_libraries_ в _/etc/prometheus_.\n\n```\nsudo cp -r prometheus-2.21.0.linux-amd64/consoles /etc/prometheus\nsudo cp -r prometheus-2.21.0.linux-amd64/console_libraries /etc/prometheus\n\n```\nВстановіть власника користувача та групи для каталогів на користь користувача prometheus. Використання прапорця -R забезпечить встановлення власності для файлів всередині каталогу.\n\n```\nsudo chown -R prometheus:prometheus /etc/prometheus/consoles\nsudo chown -R prometheus:prometheus /etc/prometheus/console_libraries\n\n```\nТепер, коли Prometheus встановлено, ми створимо його конфігураційні та службові файли в підготовці до першого запуску.\n\n## Крок 3 — Налаштування Prometheus\n\nУ каталозі _/etc/prometheus_ використовуйте nano або ваш текстовий редактор, щоб створити файл конфігурації з назвою _prometheus.yml_.\n\n```\nsudo nano /etc/prometheus/prometheus.yml\n\n```\nУ глобальних налаштуваннях визначте типовий інтервал для збору метрик. Зверніть увагу, що Prometheus застосовуватиме ці налаштування до кожного експортера, якщо власні налаштування експортера не перевизначають глобальні.\n\n```\nglobal:\n  scrape_interval: 15s\n\n```\nЦе значення scrape_interval вказує Prometheus збирати метрики з його експортерів кожні 15 секунд, що достатньо для більшості експортерів.\nТепер додайте самого Prometheus до списку експортерів для збору з директивою scrape_configs:\n\n```\n...\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n```\nPrometheus використовує _job_name_ для позначення експортерів у запитах та на графіках, тому оберіть щось описове тут.\n\nІ, оскільки Prometheus експортує важливі дані про себе, які можна використовувати для моніторингу продуктивності та налагодження, ми перевизначили глобальну директиву scrape_interval з 15 секунд на 5 секунд для більш частого оновлення.\n\nНарешті, Prometheus використовує директиви _static_configs_ та _targets_ для визначення місця розташування експортерів. Оскільки цей експортер працює на тому ж сервері, що й сам Prometheus, ми можемо використовувати localhost замість IP-адреси разом з типовим портом, 9090.\n\nВаш файл конфігурації тепер повинен виглядати так:\n\n```\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n```\nЗбережіть файл і закрийте текстовий редактор.\n\nТепер встановіть власника користувача та групи для файлу конфігурації на користь користувача prometheus, створеного на кроці 1.\n\n```\nsudo chown prometheus:prometheus /etc/prometheus/prometheus.yml\n\n```\nЗавершивши налаштування, ми готові протестувати Prometheus, запустивши його вперше.\n\n## Крок 4 — Запуск Prometheus\n\nЗапустіть Prometheus як користувач _prometheus_, вказавши шлях до файлу конфігурації та каталогу даних.\n\n```\nsudo -u prometheus /usr/local/bin/prometheus \\\n    --config.file /etc/prometheus/prometheus.yml \\\n    --storage.tsdb.path /var/lib/prometheus/ \\\n    --web.console.templates=/etc/prometheus/consoles \\\n    --web.console.libraries=/etc/prometheus/console_libraries\n```\n\nВивід містить інформацію про прогрес завантаження Prometheus, файл конфігурації та пов'язані служби. Він також підтверджує, що Prometheus прослуховує порт _9090_.\n\n```\n_log output_\nSep 14 17:55:53 robonomics systemd[1]: Started Prometheus.\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.347Z caller=main.go:310 msg=\"No time or size retention was set so using the default time retention\" duration=15d\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.350Z caller=main.go:346 msg=\"Starting Prometheus\" version=\"(version=2.21.0, branch=HEAD, revision=e83ef207b6c2398919b69cd87d2693cfc2fb4127)\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.351Z caller=main.go:347 build_context=\"(go=go1.15.2, user=root@a4d9bea8479e, date=20200911-11:35:02)\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.351Z caller=main.go:348 host_details=\"(Linux 4.15.0-112-generic #113-Ubuntu SMP Thu Jul 9 23:41:39 UTC 2020 x86_64 robonomics (none))\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.351Z caller=main.go:349 fd_limits=\"(soft=1024, hard=4096)\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.351Z caller=main.go:350 vm_limits=\"(soft=unlimited, hard=unlimited)\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.357Z caller=main.go:701 msg=\"Starting TSDB ...\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.368Z caller=web.go:523 component=web msg=\"Start listening for connections\" address=0.0.0.0:9090\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.372Z caller=head.go:644 component=tsdb msg=\"Replaying on-disk memory mappable chunks if any\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.373Z caller=head.go:658 component=tsdb msg=\"On-disk memory mappable chunks replay completed\" duration=12.659µs\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.373Z caller=head.go:664 component=tsdb msg=\"Replaying WAL, this may take a while\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.380Z caller=head.go:716 component=tsdb msg=\"WAL segment loaded\" segment=0 maxSegment=1\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.381Z caller=head.go:716 component=tsdb msg=\"WAL segment loaded\" segment=1 maxSegment=1\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.381Z caller=head.go:719 component=tsdb msg=\"WAL replay completed\" checkpoint_replay_duration=48.125µs wal_replay_duration=8.253748ms total_replay_duration=8.343335ms\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.383Z caller=main.go:721 fs_type=EXT4_SUPER_MAGIC\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.384Z caller=main.go:724 msg=\"TSDB started\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.384Z caller=main.go:850 msg=\"Loading configuration file\" filename=/etc/prometheus/prometheus.yml\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.384Z caller=main.go:881 msg=\"Completed loading of configuration file\" filename=/etc/prometheus/prometheus.yml totalDuration=908.135µs remote_storage=6.693µs web_handler=819ns query_engine=1.383µs scrape=400.232µs scrape_sd=41.679µs notify=1.1µs notify_sd=1.847µs rules=1.522µs\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.384Z caller=main.go:673 msg=\"Server is ready to receive web requests.\"\n```\nЯкщо ви отримуєте повідомлення про помилку, перевірте, чи використовуєте ви синтаксис YAML у своєму файлі конфігурації, а потім дотримуйтесь інструкцій на екрані, щоб вирішити проблеу.\n\nТепер зупиніть Prometheus, натиснувши _CTRL+C_, а потім відкрийте новий файл служби _systemd_.\n\n```\nsudo nano /etc/systemd/system/prometheus.service\n\n```\nФайл служби повідомляє _systemd_, щоб запустити Prometheus як користувача prometheus, з файлом конфігурації, розташованим у каталозі _/etc/prometheus/prometheus.yml_, і зберігати дані у каталозі _/var/lib/prometheus_. Скопіюйте наступний вміст у файл:\n\n```\n[Unit]\nDescription=Prometheus\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=prometheus\nGroup=prometheus\nType=simple\nExecStart=/usr/local/bin/prometheus \\\n    --config.file /etc/prometheus/prometheus.yml \\\n    --storage.tsdb.path /var/lib/prometheus/ \\\n    --web.console.templates=/etc/prometheus/consoles \\\n    --web.console.libraries=/etc/prometheus/console_libraries\n\n[Install]\nWantedBy=multi-user.target\n```\n\nНаостанок, збережіть файл і закрийте текстовий редактор. Щоб використовувати новостворену службу, перезавантажте systemd.\n\n```\nsudo systemctl daemon-reload\n\n```\nТепер ви можете запустити Prometheus за допомогою наступної команди:\n\n```\nsudo systemctl start prometheus\n\n```\nЩоб переконатися, що Prometheus працює, перевірте статус служби.\n\n```\nsudo systemctl status prometheus\n\n```\nВивід показує статус Prometheus, ідентифікатор основного процесу (PID), використання пам'яті та інше.\n\nЯкщо статус служби не є активним, дотримуйтесь інструкцій на екрані та повторно пройдіть попередні кроки, щоб вирішити проблему перед продовженням навчального посібника.\n\n```\n* prometheus.service - Prometheus\n   Loaded: loaded (/etc/systemd/system/prometheus.service; enabled; vendor preset: enabled)\n   Active: active (running) since Mon 2020-09-14 17:59:48 CEST; 24h ago\n Main PID: 29650 (prometheus)\n    Tasks: 9 (limit: 4915)\n   CGroup: /system.slice/prometheus.service\n           `-29650 /usr/local/bin/prometheus --config.file /etc/prometheus/prometheus.yml --storage.tsdb.path /var/lib/prometheus/ --web.console.templates=/etc/prometheus/consoles --web.console.libraries=/etc/prometheus/console_libraries\n```\n\nКоли ви будете готові перейти далі, натисніть _Q_, щоб вийти з команди статусу. Нарешті, активуйте службу, щоб вона запускалася при завантаженні.\n\n```\nsudo systemctl enable prometheus\n\n```\n\nТепер, коли Prometheus працює, ми можемо встановити додатковий експортер для генерації метрик про ресурси нашого сервера.\n\n## Крок 5 — Завантаження Node Exporter\n\nЩоб розширити Prometheus поза метриками лише про себе, ми встановимо додатковий експортер під назвою Node Exporter. Node Exporter надає детальну інформацію про систему, включаючи використання процесора, диска та пам'яті. Завантажте поточну стабільну версію Node Exporter у ваш домашній каталог. Останні бінарні файли можна знайти на [сторінці завантаження Prometheus.](https://prometheus.io/download/)\n\n```\nwget https://github.com/prometheus/node_exporter/releases/download/v1.0.1/node_exporter-1.0.1.linux-amd64.tar.gz\n\n```\nТепер розпакуйте завантажений архів.\n\n```\ntar xvf node_exporter-1.0.1.linux-amd64.tar.gz\n\n```\nЦе створить каталог під назвою _node_exporter-1.0.1.linux-amd64_, що містить бінарний файл з назвою _node_exporter_, ліцензію та повідомлення.\n\nСкопіюйте бінарний файл до каталогу _/usr/local/bin_ та встановіть власника та групу користувачів на користувача node_exporter, якого ви створили на кроці 1.\n\n```\nsudo cp node_exporter-1.0.1.linux-amd64/node_exporter /usr/local/bin\nsudo chown node_exporter:node_exporter /usr/local/bin/node_exporter\n\n```\nТепер, коли ви встановили Node Exporter, давайте спробуємо його запустити, виконавши його перед створенням файлу служби, щоб він запускався при завантаженні.\n\n## Крок 6 — Запуск Node Exporter\n\nКроки для запуску Node Exporter схожі на кроки для запуску самого Prometheus. Спочатку створіть файл служби Systemd для Node Exporter.\n\n```\nsudo nano /etc/systemd/system/node_exporter.service\n\n```\nСкопіюйте наступний вміст у файл служби:\n\n```\n[Unit]\nDescription=Node Exporter\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=node_exporter\nGroup=node_exporter\nType=simple\nExecStart=/usr/local/bin/node_exporter --collector.systemd\n\n[Install]\nWantedBy=multi-user.target\n```\n\nЗбережіть файл і закрийте текстовий редактор. Нарешті, перезавантажте systemd, щоб використовувати новостворену службу.\n\n```\nsudo systemctl daemon-reload\n\n```\nТепер ви можете запустити Node Exporter за допомогою наступної команди:\n\n```\nsudo systemctl start node_exporter\n\n```\nПеревірити that Node Exporter’s running correctly with the status command.\n\n```\nsudo systemctl status node_exporter\n\n```\nЯк і раніше, цей вивід показує статус Node Exporter, ідентифікатор основного процесу (PID), використання пам'яті та інше. Якщо статус служби не є активним, дотримуйтесь інструкцій на екрані та повторно пройдіть попередні кроки, щоб вирішити проблему перед продовженням.\n\n```\n_Output_\n* node_exporter.service - Node Exporter\n   Loaded: loaded (/etc/systemd/system/node_exporter.service; enabled; vendor preset: enabled)\n   Active: active (running) since Mon 2020-09-14 17:58:25 CEST; 1 day 1h ago\n Main PID: 29612 (node_exporter)\n    Tasks: 7 (limit: 4915)\n   CGroup: /system.slice/node_exporter.service\n           `-29612 /usr/local/bin/node_exporter --collector.systemd\n```\nНарешті, активуйте Node Exporter, щоб він запускався при завантаженні.\n\n```\nsudo systemctl enable node_exporter\n\n```\nЗ Node Exporter повністю налаштованим і працюючим, ми скажемо Prometheus почати збирати нові метрики.\n\n## Крок 7 — Налаштування Prometheus для збору метрик Node Exporter\n\nОскільки Prometheus збирає лише експортери, які визначені в частині scrape_configs його файлу конфігурації, нам потрібно додати запис для Node Exporter, так само, як ми це зробили для самого Prometheus. Відкрийте файл конфігурації.\n\n```\nsudo nano /etc/prometheus/prometheus.yml\n\n```\nВ кінці блоку scrape_configs додайте новий запис з назвою node_exporter.\n\n```\n...\n  - job_name: 'node_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9100']\n```\nОскільки цей експортер також працює на тому самому сервері, що й сам Prometheus, ми можемо використовувати localhost замість IP-адреси разом зі стандартним портом Node Exporter, 9100. Весь ваш файл конфігурації повинен виглядати так:\n\n```\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n  - job_name: 'node_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9100']\n```\nЗбережіть файл і закрийте текстовий редактор, коли будете готові продовжити. Нарешті, перезапустіть Prometheus, щоб зміни набули чинності.\n\n```\nsudo systemctl restart prometheus\n\n```\nЗнову перевірте, що все працює правильно за допомогою команди статусу.\n\n```\nsudo systemctl status prometheus\n\n```\nЯкщо статус служби не встановлено як активний, дотримуйтесь інструкцій на екрані та повторно пройдіть попередні кроки перед продовженням.\n\n```\nOutput\n* prometheus.service - Prometheus\n   Loaded: loaded (/etc/systemd/system/prometheus.service; enabled; vendor preset: enabled)\n   Active: active (running) since Tue 2020-09-15 19:06:56 CEST; 2s ago\n Main PID: 19725 (prometheus)\n    Tasks: 8 (limit: 4915)\n   CGroup: /system.slice/prometheus.service\n           `-19725 /usr/local/bin/prometheus --config.file /etc/prometheus/prometheus.yml --storage.tsdb.path /var/lib/prometheus/ --web.console.templates=/etc/prometheus/consoles --web.console.libraries=/etc/prometheus/console_libraries\n```\n\nТепер у нас встановлені, налаштовані та працюють Prometheus та Node Exporter.\n\n## Крок 8 - Додавання вбудованого експортера Robonomic до node_exporter\n\nПісля успішного встановлення Prometheus та node_exporter нам потрібно використовувати вбудований експортер prometheus в кожному проекті підстрати. Щоб це зробити, ми повинні додати додатковий запис до _/etc/prometheus/prometheus.yml_. \nВідкрийте файл конфігурації.\n\n```\nsudo nano /etc/prometheus/prometheus.yml\n\n```\nВ кінці блоку scrape_configs додайте новий запис з назвою robonomic_exporter.\n\n``` \n  - job_name: 'robonomics_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9615']\n```\nЗбережіть файл і вийдіть з текстового редактора. Ваш файл конфігурації повинен виглядати так:\n\n```\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n  - job_name: 'node_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9100']\n  - job_name: 'robonomics_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9615']\n```\n\nНаостанку, перезапустіть Prometheus, щоб зробити зміни дійсними.\n\n```\nsudo systemctl restart prometheus\n\n```\nЗнову перевірте, що все працює правильно за допомогою команди статусу.\n\n```\nsudo systemctl status prometheus\n\n```\nТепер у нас встановлені, налаштовані та працюють _Prometheus_, _Node Exporter_ та _Robonomic Exporter_. Тепер перейдіть до Grafana.\n\n## Крок 9 - Налаштування Grafana\n\nОстаннім кроком є підключення Prometheus як джерела даних у Grafana. Для цієї підручника ми використовуватимемо безкоштовну хмарну версію Grafana, яка дозволяє мати до 5 панелей і спеціальну [панель Robonomics](https://grafana.com/grafana/dashboards/13015). Просто перейдіть на [grafana.com](https://grafana.com/), створіть новий обліковий запис і увійдіть до свого новоствореного екземпляру Grafana.\n\nСпочатку нам потрібно додати до Grafana нове _**Джерело даних**_, яким у нашому випадку буде сервер Prometheus.\nПерейдіть до Джерела даних:\n\n>![DataSource](../images/prometheus-grafana/grafana-6-2020-09-15-19-18-50-Window.png)\n\nПотім натисніть **_Додати джерело даних_**\n\n>![DataSource](../images/prometheus-grafana/grafana-7-2020-09-15-19-18-50-Window.png)\n\nNext виберіть _**Prometheus**_\n\n>![DataSource](../images/prometheus-grafana/grafana-8-2020-09-15-19-18-50-Window.png)\n\nНа новому екрані введіть вашу **_IP-адресу сервера Prometheus з портом 9090_**\n\n> ![DataSource](../images/prometheus-grafana/grafana-9-2020-09-15-19-18-50-Window.png)\n\nПісля цього натисніть _**Зберегти та перевірити**_, якщо ви виконали всі кроки, то все повинно бути зеленим і готовим до імпорту панелі. На головній сторінці натисніть **+**, а потім **Імпортувати**, як показано на зображенні нижче:\n\n> ![Import dashboard](../images/prometheus-grafana/grafana-1-2020-09-15-19-18-50-Window.png)\n\nПотім ви повинні побачити сторінку Імпорту:\n\n> ![Import page](../images/prometheus-grafana/grafana-2-2020-09-15-19-18-50-Window.png)\n\nУ полі _URL або ідентифікатор панелі Grafana.com_ введіть _**13015**_ (це ID панелі Robonomic)\n\n> ![Import Robonomic dashboard](../images/prometheus-grafana/grafana-3-2020-09-15-19-18-50-Window.png)\n\nПісля завантаження зовнішньої панелі ви побачите цей екран:\n\n> ![XRT 13015 dashboard import](../images/prometheus-grafana/grafana-4-2020-09-15-19-18-50-Window.png)\n\nОстаннім кроком є вибір раніше створеного **_Джерела даних_** і натискання _**Імпортувати**_\n\n> ![Prometheus as a DataSource](../images/prometheus-grafana/grafana-5-2020-09-15-19-18-50-Window.png)\n\nЦе все! На цьому етапі ви повинні побачити імпортовану панель. \n\n\n## Посилання\n\n* [Як встановити Prometheus на Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-install-prometheus-on-ubuntu-16-04)\n* [Створення моніторингової панелі за допомогою Prometheus + Grafana](https://medium.com/htc-research-engineering-blog/build-a-monitoring-dashboard-by-prometheus-grafana-741a7d949ec2)\n* [Підтримка Grafana для Prometheus](https://prometheus.io/docs/visualization/grafana/)\n* [Моніторинг метрик хоста Linux за допомогою експортера вузла](https://prometheus.io/docs/guides/node-exporter/)\n* [Запити до Prometheus](https://prometheus.io/docs/prometheus/latest/querying/basics/)\n* [Візуалізація метрик вузла](https://substrate.dev/docs/en/tutorials/visualize-node-metrics/)\n* [Експортер Prometheus для Substrate](https://github.com/paritytech/substrate/tree/master/utils/prometheus)\n* [polkadot-dashboard](https://github.com/w3f/polkadot-dashboard)\n* [Метрика вузла Polkadot](https://grafana.com/grafana/dashboards/12425)\n* [Панель експортера вузла для Prometheus](https://grafana.com/grafana/dashboards/11074)\n* [Метрики ROBONOMICS (XRT) Grafana](https://grafana.com/grafana/dashboards/13015)\n\n","tools":[],"fileInfo":{"path":"uk/robonomics-prometheus-grafana.md","name":"robonomics-prometheus-grafana"}}},"context":{}}