{"hash":"e41ba10f6e66ac63a44d40df67ebe96ed934212e","data":{"doc":{"id":"345ca73c2d549db546c04167111bb83c","title":"Сервіс відео Robonomics","description":"","contributors":["nakata5321"],"headings":[],"subtitles":[{"depth":2,"value":"Підключіть камеру","anchor":"#підключіть-камеру"},{"depth":3,"value":"Додати до панелі інструментів","anchor":"#додати-до-панелі-інструментів"},{"depth":2,"value":"Перевірте папку з медіа","anchor":"#перевірте-папку-з-медіа"},{"depth":2,"value":"Виклик сервісу","anchor":"#виклик-сервісу"},{"depth":2,"value":"DAPP","anchor":"#dapp"}],"content":"\nУ цій статті показано, як додати IP-камеру до Home Assistant та надсилати відео на веб-сервіс Robonomics.\n\nДля підключення камери до Home Assistant вам потрібно знати його IP-адресу та створити локальний обліковий запис камери для підключення до потоку RTSP.\n\n<robo-wiki-note type=\"warning\">\nОскільки це робиться по-різному для кожної камери, цей процес не розглядається в цій статті.\n</robo-wiki-note>\n\nВимоги:\n- IP-камера\n- Налаштований локальний обліковий запис камери\n- IP-адреса камери\n- Налаштований Home Assistant\n\n<robo-wiki-note type=\"note\">\n\nУ цій статті припускається, що у вас є загальна IP-камера без опцій RTZ (поворот, нахил, збільшення). \nЯкщо у вас є камера RTZ, перевірте статтю [\"Камера RTZ\"](/docs/ptz-camera). А потім поверніться до другого кроку тут.\n\n</robo-wiki-note>\n\n## Підключіть камеру\n\nПо-перше, вам потрібно дізнатися URL-адресу потоку RTSP камери. \nДля цього спробуйте ввести наступний запит в Інтернеті: \"<НАЗВА_КАМЕРИ> RTSP-потік\".\nURL потоку повинен починатися з `rtsp://<IP_Адреса>...`. \n\nУ цій статті використовується камера \"Tapo\", а шлях потоку - `rtsp://<IP_Адреса>/stream1`.\n\nВідкрийте Home Assistant та перейдіть до \"Settings\"-> \"Devices & Services\". Натисніть кнопку \"ADD INTEGRATION\" та\nпочніть вводити інтеграцію \"Generic Camera\". Виберіть її.\n\n <robo-wiki-picture src=\"home-assistant/generic.jpg\" />\n\nУ вікні конфігурації надайте наступну інформацію:\n- Stream Source URL - URL потоку RTSP камери\n- Username - введіть ім'я користувача вашого локального облікового запису камери\n- Password - введіть пароль для вашого локального облікового запису камери\n\n<robo-wiki-picture src=\"home-assistant/genericconf.jpg\" />\n\nПрокрутіть налаштування вниз і натисніть кнопку \"Submit\".\n\nУ попередньому вікні активуйте прапорець \"This image looks good.\" і натисніть кнопку \"Submit\". Потім - \"Finish\".\n\n<robo-wiki-picture src=\"home-assistant/preview-camera.jpg\" />\n\n### Додати до панелі інструментів\n\nКрім того, ви можете додати потік на свою панель інструментів. Для цього перейдіть на панель і створіть нову картку \n\"Picture Glance\". Далі кроки:\n- введіть бажану \"Title\"\n- видаліть дані з \"Image Path\"\n- виберіть камера в \"Camera Entity\"\n- у \"Camera View\", виберіть \"live\", щоб зменшити затримку\n\nІ збережіть це.\n<robo-wiki-picture src=\"home-assistant/camera_picture_glance.jpg\" />\n\n## Перевірте папку з медіа\n\nBefore being sent to the Robonomics Video Service, the video must be saved in a folder, and Home Assistant must have access to this folder. \nНайпростіший варіант у цьому випадку - використовувати медіа-пакет, в якому Home Assistant зберігає всі медіа-файли.\n\n- Якщо ви використовуєте HAOS або попередньо встановлене зображення, ваш Home Assistant **вже має папку Media**.\n- Якщо ви використовуєте Home Assistant Core, вам слід перейти до папки `.homeassistant` і створити в ній папку `media`.\n- Якщо ви використовуєте Home Assistant Docker, додайте рядок ` -v /ШЛЯХ_ДО_ВАШОГО_МЕДІА:/media \\` до команди Docker.\n\nЩоб перевірити, що все налаштовано правильно, перейдіть на вкладку “Media” -> “local media” в своєму Home Assistant. \nВи повинні побачити порожню папку (без помилок):\n\n<robo-wiki-picture src=\"home-assistant/media-folder.jpg\" />\n\n## Виклик сервісу\n\nЩоб надіслати відео на Robonomics, вам слід викликати спеціальний сервіс в Home Assistant. \nУ цій статті це робиться вручну, але ви можете створити для цього автоматизацію.\n\nДля цього перейдіть до \"Developer tools\" -> \"Services\" та знайдіть \"Robonomics: Save recording to Robonomics \".\n\n<robo-wiki-picture src=\"home-assistant/robonomics-service.jpg\" />\n\nУ \"Цілі\" виберіть сутність вашої камери.\nУ \"Шляху для збереження запису\" ви повинні вказати абсолютний шлях до папки,\nде Home Assistant може зберігати відео:\n- Для попередньо встановленого зображення - `/home/homeassistant/.homeassistant/media`;\n- Для HA OS або Home Assistant Docker- `/media`;\n- Для Home Assistant Core - Шлях до раніше створеної папки media.\n\nКрім того, ви можете вибрати тривалість запису. \n\nЗаповніть дані та викличте сервіс за допомогою кнопки \"CALL SERVICE\".\n\n## DAPP\n\nЩоб переглянути отримане відео, перейдіть до [Robonomics DAPP](https://vol4tim.github.io/videostream/).\n\n<robo-wiki-picture src=\"home-assistant/video-dapp.jpg\" />\n\nВставте адресу вашого контролера та натисніть кнопку нижче. Зачекайте процесу \"Search for Twins\". \nВ результаті ви отримаєте IPFS CID з усіма записаними відео.\n\n<robo-wiki-picture src=\"home-assistant/video-ipfs.jpg\" />\n\nДалі виберіть обліковий запис контролера (або будь-який інший) зі списку та підпишіть повідомлення для авторизації в\nвеб-порталі Web3 IPFS для завантаження всіх відео. В результаті ви отримаєте всі відео, записані вашим розумним будинком.\n\n<robo-wiki-picture src=\"home-assistant/show-videos.jpg\" />\n\nОскільки всі відео в папці зашифровані ключем контролера, вам потрібно вставити його для розшифрування відео.\nПісля цього кнопка відтворення відео активується. Натисніть на неї, щоб завантажити відео.\n\n<robo-wiki-picture src=\"home-assistant/video-seed.jpg\" />\n\n\n\n\n\n\n","tools":[],"fileInfo":{"path":"uk/robonomics-video.md","name":"robonomics-video"}}},"context":{}}