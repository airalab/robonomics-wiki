{"hash":"e07834b7c9d5fbd855c8bb0eb62176355bee4599","data":{"doc":{"id":"bbf9e1cf1565e2440f446715fadbd97e","title":"Lesson 4, 実践でのRobonomics parachain","description":"","cover_image":{"type":"image","mimeType":"image/png","src":"/assets/static/wschool2021-robonomics-parachain-in-practice.0b85c65.d6922638e0a87c6de248f3fd8d1165a2.png","size":{"width":1920,"height":1080},"sizes":"(max-width: 1920px) 100vw, 1920px","srcset":["/assets/static/wschool2021-robonomics-parachain-in-practice.1b91758.d6922638e0a87c6de248f3fd8d1165a2.png 480w","/assets/static/wschool2021-robonomics-parachain-in-practice.3df3210.d6922638e0a87c6de248f3fd8d1165a2.png 1024w","/assets/static/wschool2021-robonomics-parachain-in-practice.0b85c65.d6922638e0a87c6de248f3fd8d1165a2.png 1920w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1920 1080' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-104257de450b1094aab7a6102fe421d9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-104257de450b1094aab7a6102fe421d9)' width='1920' height='1080' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAkCAYAAAA5DDySAAAACXBIWXMAAAsSAAALEgHS3X78AAAD60lEQVRo3u2Y60/bVRjH%2bRMM4nyhIqAiKDqnifGF8Q/wjS%2bMUV8Qo0aMme6GchOQO4uDEG4CQkC3SAIbl3XCQBjjLgXKHcpdhFJaoLS0tFzS8vU8x/6aykZ1s2x1nid5cq6/c37nc55zeY7XMf8gkPr4PQvvJ55GQMgrMJpMILHZbHCX7O/vwxPF6xE2cFL/51%2b%2bBQDJkmoZM3PzWFhcgnJqGotLKswv/A6NdhUzs3NQLauh1mgwa6%2bzsLiIdZ3O8Q2V6/UGj4Xg9bDvM3zwb70bCt%2bg4/B77sRfAJRXXsGZyK9R/MMlfBB2EnlFJYhPOY%2bk8xlIz8xGXHI6YhJSEPVNMi6WVyCn4HtUy%2brw6alwJKZfwLdZueiW9/G2rFar5wHweTIQvsEvIeTV1/FYYAj8GAxnAJtGI1Y0Wj7jNJsarRba1TXoDQao1Gps6PX2ci1W19ZZ2SpMpi2sr%2buwxtNrMBpNnmsBfP0zCN7MEh56/CkEvPA/3AMIwqMBwbfsAfTTpDabFNocec5pm133XahHW4CktwPwoIsAIAAIAAKAAOAOAM5Hnatj8E6PxH/zrVsAHDz7D1O65roaNJVLdSikdqXwTvpx993CJYB/ehO8X0vFHf26BEAyMTkFy/Y2dnZ3YbFYuO7s7MJstmBrawuGTSOvV9/YxMNx5SQyc/Ihq2tAZXUtsvIL0dbZja4eOaqu/owV5jNcu96IoZExyOoboBgcxjZrf3B4BJusLWqf%2bic1W6gPM/M3DFCvaLCsXnHkH7SEIwNQeqkcNcy7%2bzw8EtHM4wuPicfZqFjEJKbiszNfIu1CFjp/lePNt9/DEnOWKP7ia2/wfPIU3wn9CPW/NKOuoQnVDMCVWhn3GItKf8T7H4ZxTzMqPgkfnzyNc9FxiIhLxLkoFsYm8PzTETE49VU0r0dx8kbJ09TpNo5%2bCZAoJ6fR2tGFG63taO/qxs32DrS0dfBZ7VUMYGpmFroNPcYmlDw9wepfZwOW9ylwuUaGiqpaNruj3FOk9wTyDrvlvdyyxpVT6B8YdLRH7VNcMTSMkbFxNLW0Qt6v4HV7%2bwf%2b7JOFjc0tzALN9wYAmd3cbwu3/ZgGLgm5wHt7ew/eHpBbWIJPvjiLuJR0/riRkZ3PH0QKSsr4ksgtLEZsUhpSmclTenRc6Xj8kHZ6h8do3%2bmtVhuP83J7HWd1lFH6YD2nNu%2bJBfT09WNyegbFZRdRXlmFmmt1%2bK64lMebb7bx/SErrxA/VVzma5yeyaQT5LAjy5NcZLccg/%2bVx4%2b7ughJDyKSWf6devLjx10DuB83NOEMCQACgAAgAAgAAoAAIAAIAAKAAHCU8gchSWhFECVIogAAAABJRU5ErkJggg==' /%3e%3c/svg%3e"},"contributors":["KiichiSugihara"],"translated":true,"headings":[],"subtitles":[{"depth":2,"value":"Requirements","anchor":"#requirements"},{"depth":2,"value":"Relay chainの起動","anchor":"#relay-chainの起動"}],"content":"import Asciinema from '~/components/Asciinema.vue'\n\nRobonomics parachainは、Polkadotエコシステム上の汎用parachainではありません。Robonomicsの目的は、機械の経済を構築することであり、その目的をスコープとしたRobonomics parachainは、PolkadotエコシステムをIoT、スマートシティ、インダストリー4.0のコンセプトと統合するのに役立ちます。\n\n## Requirements\n\n* Dockerは[こちらでインストール](https://docs.docker.com/engine/install/)してください。\n* Polkadot-launchは[こちらでインストール](https://github.com/paritytech/polkadot-launch#install)してください。\n\n## Relay chainの起動\n\nRelay chainはPolkadotの核となるもので、すべての子parachainに [共有のセキュリティ](https://wiki.polkadot.network/docs/en/learn-security)を提供し、メッセージパッシングの仕組みを実装しています。\nここでは、Rococo (polkadot testnet) リレーチェーンのローカルインスタンスを、2つのロボノミクスベースのパラチェーンを子として起動してみましょう。用意された [Docker image tag: \"winter-school-2\"](https://hub.docker.com/layers/robonomics/robonomics/winter-school-2/images/sha256-92f4795262f3ded3e6a153999d2777c4009106a7d37fd29969ebf1c3a262dc85?context=explore) を使いますが、例題のソースコードはすべて[RobonomicsのGitHub](https://github.com/airalab/robonomics/tree/master/scripts/polkadot-launch)にあります。\n\n<Asciinema vid=\"419Jrg22ziFfMFPZlh2WtiLvg\"/>\n\n時間がかかるかもしれませんが、我慢してください。結果として、ポートに3つのチェーンインスタンスができるはずです。\n\n* `9944` - local rococo relay chain.\n* `9988` - robonomics parachain with `id=100`\n* `9989` - robonomics parachain with `id=200`\n\nリモートサーバを使用する場合は、ローカルマシンでいくつかの ssh トンネルを作成する必要があります。\n```\nssh -f -N -L 9944:127.0.0.1:9944 root@REMOTE_SERVER_IP\nssh -f -N -L 9988:127.0.0.1:9988 root@REMOTE_SERVER_IP\nssh -f -N -L 9989:127.0.0.1:9989 root@REMOTE_SERVER_IP\n```\nその後、あなたは、 https://parachain.robonomics.network/ で `ws://127.0.0.1:9944`と `ws://127.0.0.1:9988`と `ws://127.0.0.1:9989` を使うことができます。\n\n![relay](../images/ws_lesson4/upcoming.jpg)\n\n少し前のparachainは登録しておくべきです。\n\n![relay2](../images/ws_lesson4/parachains.jpg)\n\nそして、ブロックの生産を開始する。\n\n![relay3](../images/ws_lesson4/parachains2.jpg)\n\n次のステップとして、parachain間でメッセージをやり取りするためのHRMPチャネルを作成しましょう。relaychainのページにある`sudo`モジュールコールを使ってみます。\n\n![hrmp](../images/ws_lesson4/hrmp.jpg)\n\nチャネルができると、XCMコールが使えるようになります。`datalogXcm`パレット（`datalog`パレットのXCM版）を使ってみましょう。\n\n![datalogXcmSend](../images/ws_lesson4/datalogXcmSend.jpg)\n\n第2パラダイムのメッセージの結果として、`datalog` パレットが呼び出され、データがチェーンに書き込まれます。\n\n![datalogXcmRecv](../images/ws_lesson4/datalogXcmRecv.jpg)\n\n\n結果として、この例は、XCMが標準的なRobonomicsパレットのクロスチェーン使用に対して、どのように使用できるかを示しています。"}},"context":{}}