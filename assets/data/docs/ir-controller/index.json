{"hash":"553eaf09241e98d2cba3149c3f99cc26b1ec1888","data":{"doc":{"id":"373878d99336ca5e2072c326e8cd845c","title":"IR Remote","description":"","contributors":["nakata5321"],"headings":[],"subtitles":[{"depth":2,"value":"Installation Example","anchor":"#installation-example"},{"depth":2,"value":"Hardware specification","anchor":"#hardware-specification"},{"depth":2,"value":"How to setup","anchor":"#how-to-setup"}],"content":"\nThis page describes the operating instructions for the IR Remote device powered by Robonomics. Here you will find the hardware specification of the device and its basic configuration.\n\nThe device has a number of unique features such as:\n\n- **Open Source Firmware:** Our remote is equipped with open-source firmware, meaning you have complete control over the device's functionality. Customize and reprogram it to suit your needs, making it the perfect companion for your comfort.\n\n- **Local Network Operation Only:** Our remote operates exclusively within your local network, ensuring the security of your data. You can rest assured that your information remains safe and protected.\n\n- **Ease of Use:** Despite its advanced technologies, this remote is designed with your comfort in mind. An intuitive interface and easy setup make it ideal for users of all categories.\n\nGet ready for a new level of air conditioner management with our remote, and may your home always be set to maximum comfort!\n\n<robo-wiki-note type=\"warning\">  \n\nAll devices from Robonomics can be purchased on the official [website](https://robonomics.network/devices/).\n\n</robo-wiki-note>\n\n## Installation Example\n\n<robo-wiki-video autoplay loop controls :videos=\"[{src: 'https://crustipfs.info/ipfs/QmUpSdy3oQbU7dx59sE3MMdL1kr6E2TKsPA5kmFeKHTgF4', type:'mp4'}]\" />\n\n## Hardware specification\n\n- Viewing angle 360°\n- CPU: ESP32 series of SoCs, Xtensa 32-bit LX6 microprocessor, up to 240 MHz\n- Memory: 448 KB ROM, 520 KB SRAM, 8 MB FLASH\n- Wireless protocol: IEEE 802.11b/g/n (2.4 GHz Wi-Fi)\n- Input voltage: DC 5V USB-C (QC2, QC3, PD)\n- Standby consumption: 95mA\n- Weight: 36g\n\n\n## How to setup\n\n<robo-wiki-title :type=\"3\" anchor=\"step1\">\nStep 1 — Flashing\n</robo-wiki-title>\n\n<robo-wiki-note type=\"warning\">  \n\nAll devices from Robonomics come pre-flashed out of the box. However, since all devices are development kits, the instructions will cover the option of flashing the device from scratch. If you do not wish to do this now, proceed to [**Step 2 - Access Point**](/docs/ir-controller/#step2).\n\n</robo-wiki-note>\n\nTake the device from the box and connect it to the computer. Then go the website [webflasher.robonomics.network](https://webflasher.robonomics.network/). You will see next:\n\n<robo-wiki-picture src=\"ir-controller/web-interface.jpg\" />\n\n<robo-wiki-note type=\"warning\"> Note! Web flasher is working only with Google Chrome or Microsoft Edge browser.</robo-wiki-note>\n\n<robo-wiki-video autoplay loop controls :videos=\"[{src: 'https://crustipfs.info/ipfs/QmT6CDmmF8yahM1WTCwmAZBcrYUh6xxXpmvuboiYe42rEQ', type:'mp4'}]\" />\n\nIn \"Firmware\" drop-box choose **\"IR REMOTE\"** option and next in \"SELECT CHIP\" choose **\"ESP32\"**. Press **\"CONNECT\"** button.\nA popup window will appear where you should select the serial port to which the device is connected (usually it's ttyUSBO). Then choose **\"INSTALL IR-REMOTE_EN\"**. \nOn next window you can make **CLEAR INSTALLATION** by check **ERASE DEVICE**. Press Next and then Install. Wait until firmware to upload to the IR controller.\n\nAfter finishing the installation process Wi-Fi configuration popup will appear. There you have options:\n\n1) You can provide Wi-Fi credentials, skip **Step 2 - Access Point** and go to [**Step 3 - Configuration**](/docs/ir-controller/#step3).\n\n<robo-wiki-video autoplay loop controls :videos=\"[{src: 'https://crustipfs.info/ipfs/QmVbCvncuEZFVDpxnpD3VyE4LCx8TN6xKCVs4MkrJGhGDx', type:'mp4'}]\" />\n\nAfter setting up Wi-Fi you can visit device via **VISIT DEVICE** button. Later you can visit device via it's IP address in the network. To find it you can use [Fing mobile app](https://www.fing.com/products) or \n[nmap CLI tool](https://vitux.com/find-devices-connected-to-your-network-with-nmap/).\n\n2) Or disconnect the device from the computer and connect it to the power supply. IR Remote will start and create Wi-Fi hotspot. To connect the IR Remote to your home Wi-Fi network through an hotspot, follow the instructions in Step 2.\n\n<robo-wiki-title :type=\"3\" anchor=\"step2\">\nStep 2 — Access Point\n</robo-wiki-title>\n\nIf you take IR Remote from the box and connect it to the power supply, it will create hotspot with name \"tasmota-XXXXXXX\". Connect to it. Configuration window should open. If not, open web-browser and go to `192.168.4.1` page.\n\n<robo-wiki-picture src=\"ir-controller/phone-wifi.jpg\" />\n\nProvide Wi-Fi credentials. After that the IR Remote will connect to Wi-Fi network. Check the device via it's IP address in the network. To find it you can use [Fing mobile app](https://www.fing.com/products) or \n[nmap CLI tool](https://vitux.com/find-devices-connected-to-your-network-with-nmap/).\n\n\n<robo-wiki-title :type=\"3\" anchor=\"step3\">\nStep 3 - Configuration\n</robo-wiki-title>\n\nThe device's page will look similar to this:\n\n<robo-wiki-picture src=\"ir-controller/tasmota.jpg\" />\n\nGo to **\"Configuration\"**->**\"Configure other\"**. In **\"Template\"** string insert next:\n\n<code-helper copy>\n\n```shell\n{\"NAME\":\"Robonomics IR remote\",\"GPIO\":[1,1,1,1,1056,1088,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,0,0,0,1,1,1,1,1,0,0,1],\"FLAG\":0,\"BASE\":1}\n```\n</code-helper>\n\nVerify that checkbox **\"Activate\"** and **\"MQTT Enable\"** is enabled. If not, enable it and press Save button.\n\nReturn to **\"Main Menu\"** and go to **\"Configuration\"** -> **\"Configure MQTT\"**.\nProvide your MQTT credentials here:\n\n<robo-wiki-picture src=\"ir-controller/mqtt.jpg\" />\n\nThat's all with ESP for now. Next step is install the Home Assistant integration.\n\n<robo-wiki-title :type=\"3\" anchor=\"step4\">\nStep 4 — Integration Setup\n</robo-wiki-title>\n\nThis article assumes, that you have Home Assistant and HACS. Go to HACS and add custom repository. \n\n<robo-wiki-video autoplay loop controls :videos=\"[{src: 'https://crustipfs.info/ipfs/QmSqvGpq5q9tHUsi45VkycQamR2o2hoDcyAgiz2dp279eF', type:'mp4'}]\" />\n\nTo do this, press three dots in upper right corner, choose **CUSTOM REPOSITORIES**\nand insert this URL: `https://github.com/hristo-atanasov/Tasmota-IRHVAC`. in Category choose \"Integration\". After that find it in search and install it. Don't forget to restart Home Assistant after that.\n\nOpen logs of the IR remote. To do this go to proper local URL, or open again [webflasher.robonomics.network](https://webflasher.robonomics.network/) and choose \"Tasmota IR\" and \"ESP32\". Press \"Connect\" and choose port.\nPress **VISIT DEVICE**, and you will see the device main page. Go to \"Consoles\" -> \"console\".\n\nPoint your IR remote control (e.g. from an air conditioner) to the Robonomics IR Remote and press buttons on the remote. You will get next log in the console:\n```\n10:08:06.925 MQT: tele/tasmota_F6CF74/RESULT = {\"IrReceived\":{\"Protocol\":\"MITSUBISHI112\",\"Bits\":112,\"Data\":\"0x23CB260100A003060D00000000CB\",\"Repeat\":0,\"IRHVAC\":{\"Vendor\":\"MITSUBISHI112\",\"Model\":-1,\"Mode\":\"Cool\",\"Power\":\"Off\",\"Celsius\":\"On\",\"Temp\":25,\"FanSpeed\":\"Medium\",\"SwingV\":\"Highest\",\"SwingH\":\"Auto\",\"Quiet\":\"Off\",\"Turbo\":\"Off\",\"Econo\":\"Off\",\"Light\":\"Off\",\"Filter\":\"Off\",\"Clean\":\"Off\",\"Beep\":\"Off\",\"Sleep\":-1}}}\n```\nYou need information from `IRHVAC` topic. \n\nOpen `configuration.yaml` file of our Home Assistant instance and insert the following:\n\n<code-helper copy>\n\n```shell\ntasmota_irhvac:\n\nclimate:\n  - platform: tasmota_irhvac\n    name: \"<Some Name Here>\"\n    command_topic: \"cmnd/<your_tasmota_device>/irhvac\"\n    # Pick one of the following:\n    # State is updated when the tasmota device receives an IR signal (includes own transmission and original remote)\n    # useful when a normal remote is in use alongside the tasmota device, may be less reliable than the second option.\n    state_topic: \"tele/<your_tasmota_device>/RESULT\"\n    # State is updated when the tasmota device completes IR transmission, should be pretty reliable.\n    #state_topic: \"stat/<your_tasmota_device>/RESULT\"\n    # Uncomment if your 'available topic' of Tasmota IR device are different (if device in HA is disabled)\n    #availability_topic: \"tele/<your_tasmota_device>/LWT\"\n    temperature_sensor: <temperature sensor in room> - # required to measure temperature in a room. e.x. sensor.kitchen_temperature\n    humidity_sensor: None #optional - default None (e.x. sensor.kitchen_humidity)\n    power_sensor: None #optional - default None (e.x. binary_sensor.kitchen_ac_power)\n    vendor: \"<Your vendor here>\" #find your vendor in logs.\n    min_temp: 16 #optional - default 16 int value\n    max_temp: 32 #optional - default 32 int value\n    target_temp: 26 #optional - default 26 int value\n    initial_operation_mode: \"off\" # optional - default \"off\" string value (one of the \"supported_modes\")\n    away_temp: 24 #optional - default 24 int value\n    precision: 1 #optional - default 1 int or float value. Can be set to 1, 0.5 or 0.1\n    supported_modes:\n      - \"heat\"\n      - \"cool\"\n      - \"dry\"\n      - \"fan_only\" # Use \"fan_only\" even if Tasmota shows \"Mode\":\"Fan\"\n      - \"auto\"\n      - \"off\" #Turns the AC off - Should be in quotes\n      # Some devices have \"auto\" and \"fan_only\" switched\n      # If the following two lines are uncommented, \"auto\" and \"fan\" should be commented out\n      #- \"auto_fan_only\" #if remote shows fan but tasmota says auto\n      #- \"fan_only_auto\" #if remote shows auto but tasmota says fan\n    supported_fan_speeds:\n      # Some devices say max,but it is high, and auto which is max\n      # If you uncomment the following two, you have to comment high and max\n      # - \"auto_max\" #woud become max\n      # - \"max_high\" #would become high\n      #- \"on\"\n      #- \"off\"\n      #- \"low\"\n      - \"medium\"\n      - \"high\"\n      #- \"middle\"\n      #- \"focus\"\n      #- \"diffuse\"\n      - \"min\"\n      - \"max\"\n      #- \"auto\"\n    supported_swing_list:\n      - \"off\"\n      - \"vertical\" #up to down\n      # - \"horizontal\" # Left to right\n      # - \"both\"\n    default_quiet_mode: \"Off\" #optional - default \"Off\" string value\n    default_turbo_mode: \"Off\" #optional - default \"Off\" string value\n    default_econo_mode: \"Off\" #optional - default \"Off\" string value\n    hvac_model: \"-1\" #optional - default \"1\" string value\n    celsius_mode: \"On\" #optional - default \"On\" string value\n    default_light_mode: \"Off\" #optional - default \"Off\" string value\n    default_filter_mode: \"Off\" #optional - default \"Off\" string value\n    default_clean_mode: \"Off\" #optional - default \"Off\" string value\n    default_beep_mode: \"Off\" #optional - default \"Off\" string value\n    default_sleep_mode: \"-1\" #optional - default \"-1\" string value\n    default_swingv: \"high\" #optional - default \"\" string value\n    default_swingh: \"left\" #optional - default \"\" string value \n    keep_mode_when_off: True #optional - default False boolean value : Must be True for MITSUBISHI_AC, ECOCLIM, etc.\n    toggle_list: #optional - default []\n      # The toggled property is a setting that does not retain the On state.\n      # Set this if your AC properties are toggle function.\n      #- Beep\n      #- Clean\n      #- Econo\n      #- Filter\n      #- Light\n      #- Quiet\n      #- Sleep\n      #- SwingH\n      #- SwingV\n      #- Turbo\n```\n</code-helper>\n\n\nChange all necessary statements in inserted part with values from console message. As result, part of your configuration file should look similar to this\n(in example unused statement was deleted):\n```\ntasmota_irhvac:\n\nclimate:\n  - platform: tasmota_irhvac\n    name: \"bangkok climate control\"\n    unique_id : \"bangkok test climate\"\n    command_topic: \"cmnd/tasmota_F6CF74/irhvac\"\n    state_topic: \"tele/tasmota_F6CF74/RESULT\"\n    temperature_sensor: sensor.robonomicssensor_36133_temperature_2\n    vendor: \"MITSUBISHI112\"\n    min_temp: 16 #optional - default 16 int value\n    max_temp: 31 #optional - default 32 int value\n    target_temp: 25 #optional - default 26 int value\n    initial_operation_mode: \"cool\"\n    supported_modes:\n      - \"cool\"\n      - \"dry\"\n      - \"fan_only\" # Use \"fan_only\" even if Tasmota shows \"Mode\":\"Fan\"\n      - \"auto\"\n      - \"off\" #Turns the AC off - Should be in quotes\n      # Some devices have \"auto\" and \"fan_only\" switched\n      # If the following two lines are uncommented, \"auto\" and \"fan\" shoud be commented out\n      #- \"auto_fan_only\" #if remote shows fan but tasmota says auto\n      #- \"fan_only_auto\" #if remote shows auto but tasmota says fan\n    supported_fan_speeds:\n      # Some devices say max,but it is high, and auto which is max\n      # If you uncomment the following two, you have to comment high and max\n      # - \"auto_max\" #woud become max\n      # - \"max_high\" #would become high\n      - \"low\"\n      - \"medium\"\n      - \"max\"\n      - \"auto\"\n    supported_swing_list:\n      - \"off\"\n      - \"vertical\" #up to down\n\n    hvac_model: \"-1\" #optional - default \"1\" string value\n\n    keep_mode_when_off: True #optional - default False boolean value : Must be True for MITSUBISHI_AC, ECOCLIM, etc.\n\n```\n\nSave `configuration.yaml` and restart Home Assistant.\nAfter restarting you can add in UI a new thermostat card and select the newly integrated device.\n\n<robo-wiki-picture src=\"ir-controller/thermo.jpg\" />\n\nIf you have problem with GUI mode, switch to \"CODE EDITOR\" and write next:\n```\ntype: thermostat\nentity: climate.<your climate name>\n```\n\n<robo-wiki-note type=\"warning\">  \n\nAll devices from Robonomics can be purchased on the official [website](https://robonomics.network/devices/).\n\n</robo-wiki-note>","tools":[],"fileInfo":{"path":"ir-controller.md","name":"ir-controller"}}},"context":{}}