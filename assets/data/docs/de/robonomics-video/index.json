{"hash":"c0866f89959ae9d68f0eed033d571afa750f3892","data":{"doc":{"id":"b44b80918007df0a324d2e09ae696059","title":"Robonomics Video Service","description":"","contributors":["nakata5321"],"headings":[],"subtitles":[{"depth":2,"value":"Verbinden Sie die Kamera","anchor":"#verbinden-sie-die-kamera"},{"depth":3,"value":"Zum Dashboard hinzufügen","anchor":"#zum-dashboard-hinzufügen"},{"depth":2,"value":"Überprüfen Sie den Medienordner","anchor":"#überprüfen-sie-den-medienordner"},{"depth":2,"value":"Serviceaufruf","anchor":"#serviceaufruf"},{"depth":2,"value":"DAPP","anchor":"#dapp"}],"content":"\nDieser Artikel zeigt, wie Sie eine IP-Kamera zu Home Assistant hinzufügen und Videos an den Robonomics Web Service senden können.\n\nUm eine Kamera mit Home Assistant zu verbinden, müssen Sie ihre IP-Adresse kennen und ein lokales Kamerakonto erstellen, um den RTSP-Stream zu verbinden.\n\n<robo-wiki-note type=\"warning\">\nDa dies für jede Kamera unterschiedlich erfolgt, wird dieser Prozess in diesem Artikel nicht behandelt.\n</robo-wiki-note>\n\nAnforderungen:\n- IP-Kamera\n- Konfiguriertes lokales Kamerakonto\n- IP-Adresse der Kamera\n- Konfiguriertes Home Assistant\n\n<robo-wiki-note type=\"note\">\n\nDieser Artikel geht davon aus, dass Sie eine allgemeine IP-Kamera ohne RTZ (Drehen, Neigen, Zoomen) Optionen haben. \nWenn Sie eine RTZ-Kamera haben, überprüfen Sie den [\"RTZ-Kamera\"-Artikel](/docs/ptz-camera). Und dann kommen Sie zurück zum zweiten Schritt hier.\n\n</robo-wiki-note>\n\n## Verbinden Sie die Kamera\n\nZunächst müssen Sie die URL für den RTSP-Stream der Kamera herausfinden. \nGeben Sie dazu den folgenden Befehl im Internet ein: \"<KAMERA_NAME> RTSP-Stream\".\nDie Stream-URL muss mit `rtsp://<IP_Adresse>...` beginnen. \n\nIn diesem Artikel wird eine \"Tapo\"-Kamera verwendet und der Stream-Pfad lautet `rtsp://<IP_Adresse>/stream1`.\n\nÖffnen Sie Home Assistant und gehen Sie zu  \"Settings\"-> \"Devices & Services\".. Drücken Sie die Schaltfläche \"ADD INTEGRATION\" und\nbeginnen Sie mit der Eingabe der Integration \"Generic Camera\". Wählen Sie sie aus.\n\n <robo-wiki-picture src=\"home-assistant/generic.jpg\" />\n\nGeben Sie im Konfigurationsfenster die folgenden Informationen ein:\n- Stream Source URL - Die URL des RTSP-Streams der Kamera\n- Username - geben Sie einen Benutzernamen für Ihr lokales Kamerakonto ein\n- Password - geben Sie ein Passwort für Ihr lokales Kamerakonto ein\n\n<robo-wiki-picture src=\"home-assistant/genericconf.jpg\" />\n\nScrollen Sie nach unten zu den Einstellungen und drücken Sie die Schaltfläche \"Submit\".\n\nAktivieren Sie im Vorschaufenster das Kontrollkästchen \"This image looks good.\" und drücken Sie die Schaltfläche \"Submit\". Dann - \"Finish\".\n\n<robo-wiki-picture src=\"home-assistant/preview-camera.jpg\" />\n\n### Zum Dashboard hinzufügen\n\nDarüber hinaus können Sie den Stream zu Ihrem Dashboard hinzufügen. Gehen Sie dazu zum Dashboard und erstellen Sie eine neue Karte \n\"Bildübersicht\". Weitere Schritte:\n- geben Sie den gewünschten \"Titel\" ein\n- löschen Sie die Daten aus \"Image path\"\n- 2ählen Sie die Kamera in „Camera Entity“ aus.\n- wählen Sie in der \"Camera view\" \"live\", damit es weniger Verzögerung gibt\n\nUnd speichern Sie es.\n<robo-wiki-picture src=\"home-assistant/camera_picture_glance.jpg\" />\n\n## Überprüfen Sie den Medienordner\n\nBevor das Video an den Robonomics-Videodienst gesendet wird, muss es in einem Ordner gespeichert werden und Home Assistant muss Zugriff auf diesen Ordner haben. \nDie einfachste Option in diesem Fall ist die Verwendung eines Medienpakets, in dem Home Assistant alle Medien speichert.\n\n- Wenn Sie HAOS oder ein vorinstalliertes Image verwenden, hat Ihr Home Assistant bereits einen Medienordner.\n- Wenn Sie Home Assistant Core verwenden, sollten Sie zum `.homeassistant`-Ordner gehen und darin einen `media`-Ordner erstellen.\n- Wenn Sie Home Assistant Docker verwenden, fügen Sie der Docker-Befehlszeile die Zeile ` -v /PFAD_ZU_IHREM_MEDIA:/media \\` hinzu.\n\nUm zu überprüfen, ob alles richtig eingerichtet ist, gehen Sie zu “Media” -> “local media”  in Ihrem Home Assistant. \nSie sollten einen leeren Ordner sehen (keine Fehler):\n\n<robo-wiki-picture src=\"home-assistant/media-folder.jpg\" />\n\n## Serviceaufruf\n\nUm ein Video an Robonomics zu senden, sollten Sie einen dedizierten Service in Home Assistant aufrufen. \nIn diesem Artikel wird dies manuell gemacht, aber Sie können dafür eine Automatisierung erstellen.\n\nGehen Sie dazu zu \"Developer tools\" -> \"Services\" und suchen Sie \"Robonomics: Save recording to Robonomics \".\n\n<robo-wiki-picture src=\"home-assistant/robonomics-service.jpg\" />\n\nWählen Sie in \"Targets\" Ihre Kamera-Entität aus.\nGeben Sie in \"Path to save the recording\" einen absoluten Pfad zum Ordner an,\nin dem Home Assistant das Video speichern kann:\n- Für vorinstalliertes Image - `/home/homeassistant/.homeassistant/media`;\n- Für HA OS oder Home Assistant Docker- `/media`;\n- Für Home Assistant Core - Pfad zum zuvor erstellten Medienordner.\n\nZusätzlich können Sie die Aufnahmedauer wählen. \n\nFüllen Sie die Daten aus und rufen Sie den Service mit der Schaltfläche \"CALL SERVICE\" auf.\n\n## DAPP\n\nUm das resultierende Video anzuzeigen, gehen Sie zu [Robonomics DAPP](https://vol4tim.github.io/videostream/).\n\n<robo-wiki-picture src=\"home-assistant/video-dapp.jpg\" />\n\nFügen Sie die Kontoadresse Ihres Controllers ein und klicken Sie auf die Schaltfläche unten. Warten Sie auf den \"Search for Twins\"-Prozess. \nAls Ergebnis erhalten Sie eine IPFS CID mit allen aufgezeichneten Videos.\n\n<robo-wiki-picture src=\"home-assistant/video-ipfs.jpg\" />\n\nWählen Sie anschließend das Controller-Konto (oder ein anderes) aus der Dropdown-Liste aus und signieren Sie eine Nachricht zur Autorisierung in\ndem Web3 IPFS-Gateway, um alle Videos herunterzuladen. Als Ergebnis erhalten Sie alle Videos, die von Ihrem Smart Home aufgezeichnet wurden.\n\n<robo-wiki-picture src=\"home-assistant/show-videos.jpg\" />\n\nDa alle Videos im Ordner mit dem Controller-Schlüssel verschlüsselt sind, müssen Sie ihn einfügen, um die Videos zu entschlüsseln.\nDanach wird die Wiedergabetaste für das Video aktiviert. Klicken Sie darauf, um das Video herunterzuladen.\n\n<robo-wiki-picture src=\"home-assistant/video-seed.jpg\" />\n\n\n\n\n\n\n","tools":[],"fileInfo":{"path":"de/robonomics-video.md","name":"robonomics-video"}}},"context":{}}