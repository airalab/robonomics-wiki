{"hash":"5a3268fc52e0f7185f77fad8dffb53b768d5d795","data":{"doc":{"id":"e4c520102fa629185ec7e0f2d008fb5f","title":"Haftung","description":"","contributors":["PaTara43"],"headings":[],"subtitles":[{"depth":2,"value":"Theorieüberblick","anchor":"#theorieüberblick"},{"depth":3,"value":"Verhandlungen","anchor":"#verhandlungen"},{"depth":3,"value":"Signaturen","anchor":"#signaturen"},{"depth":2,"value":"Haftung erstellen","anchor":"#haftung-erstellen"},{"depth":3,"value":"Vorbereitungen","anchor":"#vorbereitungen"},{"depth":3,"value":"1. Erstellen Sie drei Konten und fügen Sie ihnen Geld hinzu","anchor":"#1-erstellen-sie-drei-konten-und-fügen-sie-ihnen-geld-hinzu"},{"depth":3,"value":"1. Navigieren Sie zu Developer -> Extrinsics","anchor":"#1-navigieren-sie-zu-developer---extrinsics"},{"depth":3,"value":"2. Wählen Sie liability -> create aus der Dropdown-Liste der möglichen Extrinsiken","anchor":"#2-wählen-sie-liability---create-aus-der-dropdown-liste-der-möglichen-extrinsiken"},{"depth":3,"value":"3. Übermitteln Sie die Transaktion","anchor":"#3-übermitteln-sie-die-transaktion"},{"depth":3,"value":"4. Überprüfen Sie Ihre Haftung in den Ereignissen","anchor":"#4-überprüfen-sie-ihre-haftung-in-den-ereignissen"},{"depth":3,"value":"5. Speichererkundung","anchor":"#5-speichererkundung"},{"depth":2,"value":"Berichte","anchor":"#berichte"},{"depth":3,"value":"1. Navigieren Sie zu Extrinsics, Haftung -> abschließen(Bericht).","anchor":"#1-navigieren-sie-zu-extrinsics-haftung---abschließenbericht"},{"depth":3,"value":"2. Berichte erkunden","anchor":"#2-berichte-erkunden"},{"depth":3,"value":"3. Kontostände überprüfen","anchor":"#3-kontostände-überprüfen"}],"content":"\n**Um Roboter zu wirtschaftlichen Akteuren zu machen, benötigt man ein Vertragstool dafür. Hier ist Haftung - Robonomics-Palette, die Verträge zwischen Parachain-Konten implementiert!**\n\n<robo-wiki-note type=\"warning\" title=\"Dev Node\">\n\n  Bitte beachten Sie, dass dieses Tutorial auf einer lokalen Instanz von Robonomics Node demonstriert wird. Richten Sie Ihre eigene mit [diesen Anweisungen](/docs/run-dev-node) ein.\n\n</robo-wiki-note>\n\n## Theorieüberblick\n\nAuf Ethereum gab es eine ziemlich komplizierte Struktur der Haftungsinteraktion. Sie können sich [hier](/docs/robonomics-how-it-works) damit vertraut machen. Heutzutage ist es mit Kusama etwas einfacher!\n\n### Verhandlungen\n\nUm einen Vertrag zu unterzeichnen, müssen die beiden Seiten zunächst verhandeln. Dies kann auf verschiedene Weise erfolgen, einschließlich [IPFS PubSub ](https://blog.ipfs.tech/25-pubsub/) oder Robonomics PubSub. Ein Beispiel für Python-Code mit Robonomics PubSub wird [hier] vorgestellt (https://multi-agent-io.github.io/robonomics-interface/usage.html#pubsub).\n\nAngebot und Nachfrage sind Nachrichten, die zwei Hauptmerkmale eines Vertrags enthalten: **Jobbeschreibung** und **Preis**. Das Nachrichtenformat muss vom Benutzer für jede spezifische Anwendung entworfen werden. Es ist nicht so wichtig, im Verhandlungsprozess eine strikte Formatregel zu befolgen. Der mögliche Ablauf wird im folgenden Bild dargestellt.\n\n<robo-wiki-picture src=\"liability/negotiations.jpg\" />\n\n<robo-wiki-note type=\"warning\" title=\"PubSub\">\n\n  Beachten Sie, dass PubSub ein offenes Protokoll ist, daher sollten keine sensiblen Daten übertragen werden. Dafür sollten Sie andere Protokolle verwenden.\n\n</robo-wiki-note>\n\n\n### Signaturen\n\nWhen negotiations are successfully over, each side needs to sign its so-called agreement named a signature. This is a message containing job description and price **in a specific format** signed with a private key of the Konto brauchen. \nAuch dafür gibt es ein [Python-Tool](https://multi-agent-io.github.io/robonomics-interface/modules.html#robonomicsinterface.Liability.sign_liability).\n - Die Jobbeschreibung wird als **Technik** bezeichnet. Dies ist ein 32 Byte langer String, der wie ein IPFS CID codiert sein kann.\n - Der Preis wird als **Wirtschaft** bezeichnet. Dies ist eine XRT-Dezimalzahl - Weiner. 1 Weiner = 10**-9 XRT.\n\n<robo-wiki-note type=\"note\" title=\"32 bytes\">\n\n  Mit der [Python-Bibliothek](https://multi-agent-io.github.io/robonomics-interface/modules.html#robonomicsinterface.utils.ipfs_qm_hash_to_32_bytes) kann man einen IPFS CID in einem geeigneten Format erhalten.\n  Bei Verwendung der Funktion `sign_liability` ist keine Transformation des Hash-Werts erforderlich, dies wird automatisch erledigt.\n\n</robo-wiki-note>\n\nNachfolgend das Beispiel mit Kaffee:\n\n1. Die Aufgabe ist ein JSON\n```json\n{\"task\": \"make_espresso\", \"description\": \"Make one cup of espresso\"}\n```\n2. Der IPFS CID lautet `QmP17mWKtQtq2Gq6qZAggPRrho3sVjQGBpXZ8KZiQ57FDi`\n3. Die **Technik** (transformierter CID) lautet also `0x09daaa8055722a6894951b1273e807f8a46628efeec46805f0228ace230bd5a9` \n4. **Wirtschaft** beträgt `1,5 XRT`.\n\nWenn es unterschrieben ist, ist es an der Zeit, eine Haftung zu erstellen! Dies kann von einer der Seiten (entweder dem Versprechenden oder dem Verpflichteten) oder von einem Drittkonto eines sogenannten Anbieters durchgeführt werden.\n\n## Haftung erstellen\n\n### Vorbereitungen\n\nWie bereits erwähnt, sind mindestens zwei Seiten am Prozess beteiligt. Für dieses Beispiel verwenden wir drei und machen einen separaten Anbieter dafür. Nehmen Sie an, dass die Verhandlungen bereits irgendwie stattgefunden haben.\n\n### 1. Erstellen Sie drei Konten und fügen Sie ihnen Geld hinzu\n\n<robo-wiki-picture src=\"liability/balances.jpg\" />\n\nHier haben wir dem Anbieter 100 XRT zur Unterzeichnung von Haftungsextrinsiken zur Verfügung gestellt, dem Verpflichteten wurden 2 XRT gegeben, um für die Arbeit zu bezahlen.\nDem Versprechenden wurden keine Geldmittel gewährt (außer einer existenziellen Einzahlung von mindestens 1 mXRT).\n\n### 1. Navigieren Sie zu Developer -> Extrinsics\n\n<robo-wiki-picture src=\"liability/extrinsics.jpg\" />\n\n### 2. Wählen Sie liability -> create aus der Dropdown-Liste der möglichen Extrinsiken\n\nWählen Sie auch ein Konto aus, mit dem Sie das Extrinsische einreichen möchten. Füllen Sie alle Parameter aus.\n\n<robo-wiki-picture src=\"liability/create.jpg\" />\n\n<robo-wiki-note type=\"note\" title=\"Signaturen\">\n\n  Da hier ein Anbieter verwendet wird, müssen die Seeds der Teilnehmer nicht bekannt sein. Es werden nur ihre Signaturen benötigt.\n\n</robo-wiki-note>\n\n### 3. Übermitteln Sie die Transaktion\n\n<robo-wiki-picture src=\"liability/submit.jpg\" />\n\n### 4. Überprüfen Sie Ihre Haftung in den Ereignissen\n\nHierzu navigieren Sie zu `Network -> Explorer` und finden eine Liste der Ereignisse auf der rechten Seite. Klicken Sie auf ein Dreieckssymbol, um es zu erweitern.\n\n<robo-wiki-picture src=\"liability/new-liability.jpg\" />\n\n<robo-wiki-note type=\"note\" title=\"Hash\">\n\n  Der Hash kann mit demselben [Python-Tool](https://multi-agent-io.github.io/robonomics-interface/modules.html#robonomicsinterface.utils.ipfs_32_bytes_to_qm_hash) in eine IPFS-CID umgewandelt werden.\n\n</robo-wiki-note>\n\n### 5. Speichererkundung\n\nSie können auch einige Merkmale der Haftungen im Speichermodul `liability` erkunden.\n\n<robo-wiki-picture src=\"liability/storage-liability.jpg\" />\n\n<robo-wiki-note type=\"note\" title=\"Next Index\">\n\n  Die Speicherfunktion `Next Index` zeigt den neuesten Haftungsindex +1 an, daher wird auch dann, wenn er `1` ist, Haftung `0` erkundet.\n\n</robo-wiki-note>\n\n## Berichte\n\nStellen Sie sich vor, dass ein Kaffee zubereitet wurde und die Kaffeemaschine ihn irgendwie melden muss. Hier kommen Haftungsberichte ins Spiel. Als Arbeitsnachweis fügt das Konto einen weiteren IPFS CID als Berichtsinhalt hinzu, wenn die bestehende Haftung abgeschlossen wird. Dafür ist erneut eine Unterschrift des Verpflichteten erforderlich.\n\n<robo-wiki-note type=\"note\" title=\"Report signature\">\n\n  Die signierte Nachricht enthält den vorhandenen Haftungsindex und die IPFS CID des Berichts, die in einer 32-Byte-Darstellung codiert sind. Noch einmal, das [Python-Tool](https://multi-agent-io.github.io/robonomics-interface/modules.html#robonomicsinterface.Liability.sign_report) kann helfen, den Bericht zu signieren.\n\n</robo-wiki-note>\n\nIm Beispiel mit der Kaffeemaschine:\n\n1. Der Bericht ist ein JSON.\n```json\n{\"report\": \"Coffee made! Time to execute - 80 seconds.\"}\n```\n2. Seine IPFS CID lautet `QmeXCrBuv6cw825JJfSWqNVv28AyjJZW9KReN9wcLQjfCm`.\n3. Die **Nutzlast** (transformierte CID) ist also „0xf06f2394f55537a5f37d63fd72bfbef50e9f60ea9e0e34224e455afae27a97a2“.\n4. **Index** ist `0`, es handelt sich um den vorhandenen Haftungsindex.\n\n### 1. Navigieren Sie zu Extrinsics, Haftung -> abschließen(Bericht).\n\nGeben Sie die Parameter ein und senden Sie extrinsisch. Auch dies kann über ein Drittanbieterkonto erfolgen.\n\n<robo-wiki-picture src=\"liability/report.jpg\" />\n\n<robo-wiki-note type=\"warning\" title=\"Existential deposit\">\n\n  Beachten Sie, dass das Versprechenskonto nicht \"tot\" sein darf - es sollte eine Existenzablagerung von mindestens 1 mXRT haben.\n\n</robo-wiki-note>\n\nDen Bericht signieren und einreichen. Wenn Sie fertig sind, können Sie ihn in den Ereignissen erkunden.\n\n<robo-wiki-picture src=\"liability/new-report.jpg\" />\n\n### 2. Berichte erkunden\n\nSie können den Bericht auch im Speicher beobachten. Gehen Sie zu `Developer -> Storage` und wählen Sie `liability` aus der Dropdown-Liste.\n\n<robo-wiki-picture src=\"liability/storage-report.jpg\" />\n\n### 3. Kontostände überprüfen\n\nAuf dem Bild ist zu sehen, dass der Versprecher jetzt das \"Gehalt\" erhalten hat. Die wirtschaftliche Beziehung ist entstanden!\n\n<robo-wiki-picture src=\"liability/balances-2.jpg\" />\n\n\n<robo-wiki-note type=\"note\" title=\"Verifying\">\n\n  Derzeit gibt es keine Möglichkeit, die erledigte Arbeit zu überprüfen, daher werden die Token sofort auf das Konto des Versprechers übertragen, sobald dieser berichtet. \n  Die Überprüfungsfunktion wird in Zukunft hinzugefügt werden.\n\n</robo-wiki-note>","tools":["Robonomics 2.3.0 https://github.com/airalab/robonomics","robonomics_interface 1.3.5 https://github.com/Multi-Agent-io/robonomics-interface"],"fileInfo":{"path":"de/liability.md","name":"liability"}}},"context":{}}