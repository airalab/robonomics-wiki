{"hash":"b019132cdf18eb9f78219b0565b919b16f679c3f","data":{"doc":{"id":"3c10eaec1e73e003b5b9f7e9f8ddffb9","title":"Wie man den Robonomics-Collator startet","description":"","contributors":["dergudzon","Leemo94"],"headings":[],"subtitles":[{"depth":2,"value":"Was ist ein Collator","anchor":"#was-ist-ein-collator"},{"depth":2,"value":"Anforderungen","anchor":"#anforderungen"},{"depth":2,"value":"Wichtige Informationen","anchor":"#wichtige-informationen"},{"depth":2,"value":"Erstmaliges einfaches Starten eines Robonomics-Collators","anchor":"#erstmaliges-einfaches-starten-eines-robonomics-collators"},{"depth":2,"value":"Starten Sie den Robonomics-Collator als Dienst","anchor":"#starten-sie-den-robonomics-collator-als-dienst"},{"depth":2,"value":"Beschleunigen des Synchronisierungsprozesses mit einem Kusama-Snapshot","anchor":"#beschleunigen-des-synchronisierungsprozesses-mit-einem-kusama-snapshot"},{"depth":2,"value":"Fehlerbehebung","anchor":"#fehlerbehebung"},{"depth":3,"value":"Fehler: \"State Database error: Too many sibling blocks inserted\"","anchor":"#fehler-state-database-error-too-many-sibling-blocks-inserted"},{"depth":3,"value":"Fehler: \"cannot create module: compilation settings are not compatible with the native host\"","anchor":"#fehler-cannot-create-module-compilation-settings-are-not-compatible-with-the-native-host"}],"content":"\n<robo-wiki-note type=\"note\" title=\"Note\">\n  In der Screencast und den Screenshots dieses Artikels haben wir Version 1.4.0 von Robonomics verwendet. Sie müssen dieselben Befehle verwenden, aber die Version von Robonomics durch die aktuelle ersetzen.\n</robo-wiki-note>\n\nhttps://youtu.be/wUTDDLDbzTg\n\nDerzeit wird das Robonomics-Netzwerk hauptsächlich von den ursprünglichen Entwicklern gewartet, aber jeder kann das Projekt unterstützen. Jeder zusätzliche Vollknoten der Blockchain trägt dazu bei, dass sie nachhaltiger und fehlertoleranter wird. Robonomics-Knoten-Binärdateien sind in [Release](https://github.com/airalab/robonomics/releases) Assets verfügbar oder können aus dem Quellcode erstellt werden (/docs/how-to-build-collator-node/).\n\n## Was ist ein Collator\n\nEin Collator ist Teil der Robonomics-Parachain. Diese Art von Knoten erstellt neue Blöcke für die Robonomics-Kette.\n\n>Collators pflegen Parachains, indem sie Parachain-Transaktionen von Benutzern sammeln und Zustandsübergangsproben für Relay Chain-Validatoren erstellen. Mit anderen Worten, Collators pflegen Parachains, indem sie Parachain-Transaktionen zu Parachain-Blockkandidaten aggregieren und Zustandsübergangsproben für Validatoren basierend auf diesen Blöcken erstellen.\n\nWeitere Informationen zu Collatoren finden Sie auf der entsprechenden [Polkadot-Wiki-Seite](https://wiki.polkadot.network/docs/learn-collator).\n\nIn der Robonomics-Parachain erhält jeder Collator eine Belohnung von (**0,001598184 XRT**) für jeden Block, den der Collator erstellt (Belohnungen treten auf, wenn Blöcke an die Kette gebunden werden).\nAuch der Collator, der den Block erstellt, erhält **50% der Transaktionsgebühren**, die sich im von ihnen erstellten Block befinden.\n\n## Anforderungen\n\nEs wird empfohlen, einen Collator mit den **Standard-Hardwareanforderungen** für [Polkadot-Validatoren](https://wiki.polkadot.network/docs/maintain-guides-how-to-validate-polkadot#standard-hardware) zu starten:\n+ x86-64 kompatibel.\n+ Intel Ice Lake oder neuer (Xeon oder Core-Serie); AMD Zen3 oder neuer (EPYC oder Ryzen).\n+ 4 physische Kerne @ 3,4 GHz.\n+ Simultaneous Multithreading deaktiviert (Hyper-Threading bei Intel, SMT bei AMD).\n+ Speicher - Eine NVMe-SSD mit 1 TB (da sie vernünftig dimensioniert sein sollte, um mit dem Wachstum der Blockchain umzugehen).\n+ Speicher - 32 GB DDR4 ECC\n\n\nIn diesem Artikel verwenden wir folgende Spezifikationen:\n+ 4 vCPU\n+ 700 GB NVMe-Speicherplatz für die Datenbanken des Collators. Die Möglichkeit, diesen Festplattenspeicher zu erweitern, ist erforderlich.\n+ 8 GB RAM\n\n\n## Wichtige Informationen\n1. Wir verwenden einige Variablen in diesen Anweisungen, und Sie müssen die Werte in allen Befehlen durch Ihre eigenen ersetzen:\n    + **%NODE_NAME%** ist der Knotenname. Beispiel: *my-robonomics-kusama-collator*\n    + **%BASE_PATH%** ist der Pfad zum eingebundenen Volume. Beispiel: */mnt/HC_Volume_16056435/*\n    + **%POLKADOT_ACCOUNT_ADDRESS%** ist die Kontoadresse im Polkadot-Ökosystem im SS58-Format. Beispiel: *4Gp3QpacQhp4ZReGhJ47pzExQiwoNPgqTWYqEQca9XAvrYsu*\n\n2. Beachten Sie, dass Sie *--state-cache-size=0* in den Start des Collator-Dienstes aufnehmen müssen. Dieser Parameter ist wichtig für die Stabilität des Collators.\nWeitere Informationen finden Sie in der entsprechenden [Issue](https://github.com/airalab/robonomics/issues/234) auf GitHub.\n\n## Erstmaliges einfaches Starten eines Robonomics-Collators\n\nSie können einen Collator einfach direkt in der Befehlszeile starten, um nach Fehlern zu suchen.\nNachdem Sie dies getan haben, wird dringend empfohlen, den Robonomics-Collator als Dienst zu starten (siehe nächsten Schritt).\n\n```\nroot@robokusama-collator-screencast:~# robonomics \\\n  --parachain-id=2048 \\\n  --name=\"%NODE_NAME%\" \\\n  --validator \\\n  --lighthouse-account=\"%POLKADOT_ACCOUNT_ADDRESS%\" \\\n  --telemetry-url=\"wss://telemetry.parachain.robonomics.network/submit/ 0\" \\\n  --base-path=\"%BASE_PATH%\" \\\n  --state-cache-size=0 \\\n  -- \\\n  --database=RocksDb \n```\n\n\n## Starten Sie den Robonomics-Collator als Dienst\n\n1. Erstellen Sie den Benutzer für den Dienst mit dem Home-Verzeichnis\n    ```\n    root@robokusama-collator-screencast:~# useradd -m robonomics\n    ```\n\n2. Laden Sie das Robonomics-Binary herunter, extrahieren Sie es und verschieben Sie es in das Verzeichnis */usr/local/bin/*. Sie müssen *$ROBONOMICS_VERSION* in den Befehlen in diesem Abschnitt durch die aktuelle Version von Robonomics ersetzen. Die aktuelle Version finden Sie auf der [Releases-Seite des Robonomics-Repositorys auf GitHub](https://github.com/airalab/robonomics/releases).\n   ```\n   root@robokusama-collator-screencast:~# wget https://github.com/airalab/robonomics/releases/download/v$ROBONOMICS_VERSION/robonomics-$ROBONOMICS_VERSION-x86_64-unknown-linux-gnu.tar.gz\n   root@robokusama-collator-screencast:~# tar -xf robonomics-$ROBONOMICS_VERSION-x86_64-unknown-linux-gnu.tar.gz\n   root@robokusama-collator-screencast:~# mv robonomics /usr/local/bin/\n   ```\n   ![Download Robonomics 1.4.0 binary](../images/how-to-launch-the-robonomics-collator/wget_binary.png)\n\n\n3. Erstellen Sie die systemd-Service-Datei mit dem Namen *robonomics.service*:\n    ```\n    root@robokusama-collator-screencast:~# nano /etc/systemd/system/robonomics.service\n    ```\n\n    Und fügen Sie die folgenden Zeilen in die Service-Datei ein:\n    ```\n    [Unit]\n    Description=robonomics\n    After=network.target\n    \n    [Service]\n    User=robonomics\n    Group=robonomics\n    Type=simple\n    Restart=on-failure\n\n    ExecStart=/usr/local/bin/robonomics \\\n      --parachain-id=2048 \\\n      --name=\"%NODE_NAME%\" \\\n      --validator \\\n      --lighthouse-account=\"%POLKADOT_ACCOUNT_ADDRESS%\" \\\n      --telemetry-url=\"wss://telemetry.parachain.robonomics.network/submit/ 0\" \\\n      --base-path=\"%BASE_PATH%\" \\\n      --state-cache-size=0 \\\n      --execution=Wasm \\\n      -- \\\n      --database=RocksDb \\\n      --execution=Wasm\n\n    [Install]\n    WantedBy=multi-user.target\n    ```\n\n    ![Create Robonomics service file](../images/how-to-launch-the-robonomics-collator/nano_robonomics_service.png)\n\n\n    ```\n    root@robokusama-collator-screencast:~# chown -R robonomics:robonomics %BASE_PATH%\n    ```\n\n\n4. Speichern Sie diese Datei, aktivieren Sie dann den Dienst und starten Sie ihn:\n    ```\n    root@robokusama-collator-screencast:~# systemctl enable robonomics.service \n    root@robokusama-collator-screencast:~# systemctl start robonomics.service\n    ```\n\nTelemetrie-URL: https://telemetry.parachain.robonomics.network/#/Robonomics\n\nCollator-Protokolle können mit „journalctl -u robonomics.service -f“ überwacht werden\n\nSobald der Robonomics-Collator gestartet ist, beginnt er mit der Synchronisierung mit der Kusama-Relay-Kette. Dies kann je nach Netzwerkgeschwindigkeit und Systemspezifikationen eine beträchtliche Zeit in Anspruch nehmen. Wir empfehlen daher, einen Kusama-Snapshot herunterzuladen.\n\n\n## Beschleunigen des Synchronisierungsprozesses mit einem Kusama-Snapshot\n\nWir empfehlen, dies unmittelbar nach Erstellung und Start des Robonomics-Dienstes durchzuführen. Weitere Informationen zu Snapshots und Anweisungen zur Verwendung finden Sie auf der folgenden Seite: https://ksm-rocksdb.polkashots.io/\n\nAnweisungen:\n\n1. Stoppen Sie den Robonomics-Dienst und entfernen Sie das aktuelle Kusama-Datenbankverzeichnis:\n    ```\n    root@robokusama-collator-screencast:~# systemctl stop robonomics.service\n    root@robokusama-collator-screencast:~# rm -rf %BASE_PATH%/polkadot/chains/ksmcc3/db/\n    ```\n2. Laden Sie den aktuellen Snapshot herunter und extrahieren Sie ihn:\n    ```\n    root@robokusama-collator-screencast:~# wget https://ksm-rocksdb.polkashots.io/snapshot -O kusama.RocksDb.tar.lz4\n    root@robokusama-collator-screencast:~# lz4 -c -d kusama.RocksDb.tar.lz4 | tar -x -C %BASE_PATH%/polkadot/chains/ksmcc3\n    ```\n    ![Download Kusama snapshot](../images/how-to-launch-the-robonomics-collator/wget_kusama_snapshot.png)\n\n    Nach erfolgreichem Entpacken können Sie das heruntergeladene Archiv entfernen:\n    ```\n    root@robokusama-collator-screencast:~# rm -v kusama.RocksDb.tar.lz4\n    ```\n\n3. Setzen Sie das richtige Eigentum für den Datenbankordner:\n    ```\n    root@robokusama-collator-screencast:~# chown -R robonomics:robonomics %BASE_PATH%/polkadot/chains/ksmcc3\n    ```\n4. Starten Sie den Robonomics-Dienst erneut:\n    ```\n    root@robokusama-collator-screencast:~# systemctl start robonomics.service\n    ```\n5. Überprüfen Sie die Protokolle des Dienstes:\n    ```\n    root@robokusama-collator-screencast:~# journalctl -u robonomics.service -f\n    ```    \n    ![Check service logs](../images/how-to-launch-the-robonomics-collator/finish_journalctl.png)\n\n## Fehlerbehebung\n### Fehler: \"State Database error: Too many sibling blocks inserted\"\nUm diesen Fehler zu beheben, können Sie Ihren Collator einfach im Archivmodus starten:\n\n1) Zunächst muss der Robonomics-Dienst gestoppt werden: \n    \n    root@robokusama-collator-screencast:~# systemctl stop robonomics.service\n    \n\n2) Fügen Sie dann den Parameter `--state-pruning=archive` zum Parachain-Teil der Service-Datei hinzu. Beispiel für die bearbeitete Service-Datei:\n    ```\n    [Unit]\n    Description=robonomics\n    After=network.target\n    \n    [Service]\n    User=robonomics\n    Group=robonomics\n    Type=simple\n    Restart=on-failure\n\n    ExecStart=/usr/local/bin/robonomics \\\n    --parachain-id=2048 \\\n    --name=\"%NODE_NAME%\" \\\n    --validator \\\n    --lighthouse-account=\"%POLKADOT_ACCOUNT_ADDRESS%\" \\\n    --telemetry-url=\"wss://telemetry.parachain.robonomics.network/submit/ 0\" \\\n    --base-path=\"%BASE_PATH%\" \\\n    --state-cache-size=0 \\\n    --execution=Wasm \\\n    --state-pruning=archive \\\n    -- \\\n    --database=RocksDb \\\n    --execution=Wasm \n\n    [Install]\n    WantedBy=multi-user.target\n    ```\n\n3) Laden Sie die Systemd-Manager-Konfiguration neu:\n    ```\n    root@robokusama-collator-screencast:~# systemctl daemon-reload\n    ```\n\n4) Entfernen Sie die vorhandene Parachain-Datenbank:\n    ```\n    root@robokusama-collator-screencast:~# rm -rf %BASE_PATH%/chains/robonomics/db/\n    ```\n\n5) Starten Sie den Robonomics-Dienst:\n    ```\n    root@robokusama-collator-screencast:~# systemctl start robonomics.service\n    ```\n\n    Danach müssen Sie auf die Synchronisierung der Parahain-Datenbank warten.\n\n### Fehler: \"cannot create module: compilation settings are not compatible with the native host\"\nDieser Fehler betrifft die Virtualisierungsparameter. Sie müssen den emulierten Prozessortyp \"host-model\" verwenden. Dies können Sie auf dem Virtualisierungshost einrichten.\n\nWenn Sie diesen Fehler jedoch bei einem beliebigen Hosting-Anbieter erhalten, müssen Sie den technischen Support nur nach diesem Problem fragen.\n","tools":["Ubuntu 22.04.1 https://releases.ubuntu.com/22.04/","Robonomics 2.6.0 https://github.com/airalab/robonomics"],"fileInfo":{"path":"de/how-to-launch-the-robonomics-collator.md","name":"how-to-launch-the-robonomics-collator"}}},"context":{}}