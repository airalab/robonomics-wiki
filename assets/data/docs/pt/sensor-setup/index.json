{"hash":"b79e9d6821fa0d666337564f5ef21889faecefc9","data":{"doc":{"id":"93045013a888602a6ac03145f718b51c","title":"Sensor Setup","description":"","contributors":["LoSk-p","nakata"],"translated":false,"headings":[],"subtitles":[{"depth":2,"value":"Requirements","anchor":"#requirements"},{"depth":3,"value":"Linux","anchor":"#linux"},{"depth":3,"value":"Windows","anchor":"#windows"},{"depth":3,"value":"MacOS","anchor":"#macos"},{"depth":2,"value":"Setup","anchor":"#setup"},{"depth":2,"value":"Additional configuration","anchor":"#additional-configuration"},{"depth":3,"value":"Add Sensor","anchor":"#add-sensor"},{"depth":3,"value":"Custom API","anchor":"#custom-api"}],"content":"\nAfter assembling the board, now it's time to set up it.\n\nRobonomics firmware is an extended version of the Sensor.Community firmware, with some sensors added and the data sending scheme changed. The source code can be found [at the link.](https://github.com/LoSk-p/sensors-software/tree/master/airrohr-firmware) \n\nIf you receive Robonomics board, go to the [\"Connect\" section.](#robonomics-board)\n\n## Requirements \n\n### Linux\n\nFirst you need to add a user to the `dialout` group (for Ubuntu) to get access to the USB port:\n\n```bash\nsudo usermod -a -G dialout $USER\n```\n\nAfter that, reboot the computer. \nNext, download Robonomics  flasher `airrohr-flasher`. Download the executable from [releases](https://github.com/airalab/sensors-connectivity/releases). \n\nThen change the permissions of the file and run it:\n\n```bash\nchmod +x airrohr-flasher-linux\n./airrohr-flasher-linux\n```\n\n### Windows\n\nYou need to install drivers for USB2serial (in Windows 10 should start automatically):\n\n* Drivers for NodeMCU v3 (CH340): [Windows](http://www.wch.cn/downloads/file/5.html), alternative ([mirror.](https://d.inf.re/luftdaten/CH341SER.ZIP))\n\nThen download [Robonomics  flasher `airrohr-flasher`](https://github.com/airalab/sensors-connectivity/releases), unzip the flasher and double-click to run it.\n\n### MacOS\n\nYou need to install the drivers for USB2serial:\n* Drivers for NodeMCU v3 (CH340): [macOS](http://www.wch.cn/downloads/file/178.html), alternative ([mirror](https://d.inf.re/luftdaten/CH341SER_MAC.ZIP))\n\nThen download [Robonomics  flasher `airrohr-flasher`](https://github.com/airalab/sensors-connectivity/releases) and run it.\n\n## Setup\n\nConnect sensor to PC and run `airrohr-flasher` program. After opening program you will see the following:\n\n![flasher](../images/sensors-connectivity/flasher.jpg)\n\n**Board** field should automatically fill in. If not, choose the required port form the drop-down list.\n > If `airrohr-flasher` can not find your board, make sure you have done the **Requirements** part properly.\n\nNext, select the firmware (in English or Russian) and click `Upload`. Uploading the firmware will take some time.\n\n> If you later decide to change language or make \"clear installation\"(need to reset configuration), go to \"Erase flash\" page and press the button to erase the \n> flash memory of sensor. \n\nAfter downloading the firmware, reboot the ESP (just disconnect and reconnect the USB).\n\n<robo-wiki-title :type=\"3\" anchor=\"robonomics-board\"> \nConnect\n</robo-wiki-title>\n\nA Some time after the reboot, ESP will create a Wi-Fi network named RobonomicsSensor-xxxxxxxxx. \nConnect to it from your phone or computer, then the authorization window will open (if it doesn't, open the browser and go to `192.168.4.1`). \nSelect your Wi-Fi network from the list (or write it yourself if it's not on the list) and fill in the password field. Also write the coordinates of the place where the sensor will be installed in the field below:\n\n![guest](../images/sensors-connectivity/guest.jpg)\n\nClick `Save configuration and restart`.\n\nThe board will reboot and connect to the specified Wi-Fi network. Open [Robonomics sensors map](https://sensors.robonomics.network/#/) and find your home or other place where you installed the sensor. In a couple of minutes you will be able to see your sensor with data on map.\n\n![map](../images/sensors-connectivity/14_map.jpg)\n\nThat's all with default installation. Here is a video with the full path of board assembling and setting up:\n\nhttps://www.youtube.com/watch?v=OdTd1sacCso\n\nFor a more advanced setup - connecting additional sensors or sending data to your own server, read the next section.\n\n\n## Additional configuration\n\nFirst, you need to find the address of the sensor in your Wi-Fi network. To do this, you can use `airrohr-flasher` \n(your computer must be on the same network as the sensor). Start it and go to the `Discovery` tab, then press `Refresh`, \nwait a moment and your sensor address will appear.\n\n\n![addr](../images/sensors-connectivity/disc_flaser.jpg)\n\n\nDouble-click on this address (or type it into your browser), you will get to the sensor menu:\n\n![home](../images/sensors-connectivity/home.png)\n\n### Add Sensor \n\nUnder the `Configuration` tab you can configure the sensors:\n\n![sensors](../images/sensors-connectivity/sensors.png)\n\nSelect the sensor you want to connect to the board and click `Save configuration and restart`.\n\n### Custom API\nYou can also set up sending data to your own server. To do this, in the tab `APIs` check `Send to own API` and specify the server address and port (65 for sensors connectivity):\n\n![apis](../images/sensors-connectivity/apis_en.png)\n\nClick `Save and restart` to save the settings.\n","tools":[],"fileInfo":{"path":"pt/sensor-setup.md","name":"sensor-setup"}}},"context":{}}