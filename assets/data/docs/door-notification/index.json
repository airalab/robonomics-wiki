{"hash":"444029213ab74ffaa36d436e747f22baea762c98","data":{"doc":{"id":"4880febaad35269fd72b5b916dcc3c3b","title":"Get Notified When Door Opens","description":"","contributors":["nakata5321"],"headings":[],"subtitles":[{"depth":2,"value":"Telegram Bot Notifications","anchor":"#telegram-bot-notifications"},{"depth":2,"value":"Door Open Notification","anchor":"#door-open-notification"}],"content":"\nIn this article you will install the Telegram bot notifier integration and configure an automation, which will send to your Telegram account notification when a door is open.\n\n## Telegram Bot Notifications\n\nFirst, you need to create a personal Telegram bot. For this go to the [special Telegram bot @BotFather](https://t.me/botfather) and follow instruction. \nSave your token for accessing the HTTP API.\n\n<robo-wiki-video controls src=\"https://static.robonomics.network/wiki/bot-father.mp4\" />\n\n<robo-wiki-note type=\"warning\">\n\nKeep your token **secure** and store it **safely**, it can be used by anyone to control your bot \n\n</robo-wiki-note>\n\nNext step is find your ***User Chat ID***. For this use the next [GetIdsBot](https://t.me/getidsbot). \n\n<robo-wiki-video controls src=\"https://static.robonomics.network/wiki/get-id-bot.mp4\" />\n\nNow let's install \"Telegram broadcast\" integration. This integration will send messages to your Telegram.\n\nFor Robonomics pre-installed image, Home Assistant Docker or Home Assistant Core you have to edit `configuration.yaml`. Connect to your Raspberry Pi via `ssh`:\n\n<robo-wiki-video controls src=\"https://static.robonomics.network/wiki/open-config.mp4\" />\n\n<code-helper additionalLine=\"rasppi_username@rasppi_hostname\" >\n\n```shell\nsudo -u homeassistant -H -s\ncd\ncd .homeassistant \nnano configuration.yaml\n```\n\n</code-helper >\n\nPaste next lines to the end of file. Insert your **bot API key** and **your User Chat ID**. Also create a name for your notify service:\n\n\n<code-helper copy >\n\n```shell\ntelegram_bot:\n  - platform: broadcast\n    api_key: <YOUR_API_KEY>\n    allowed_chat_ids:\n      -  <YOUR_USER_CHAT_ID> # 123456789  example id of a user\n      \nnotify:\n  - platform: telegram\n    name: <NOTIFIER_NAME>\n    chat_id: <YOUR_USER_CHAT_ID>\n```\n\n</code-helper >\n\n<robo-wiki-video controls src=\"https://static.robonomics.network/wiki/insert-config.mp4\" />\n\n**Save configuration and reload Home Assistant.**\n\n\nAs result, in your Home Assistant service will be created service, which will send any message to the Telegram chat with you. \nYou can check it in Developer Tools menu on Home Assistant web interface. \n\n<robo-wiki-video controls src=\"https://static.robonomics.network/wiki/telegram-result.mp4\" />\n\n##  Door Open Notification\n\nNow it's time to create automation. First, you import blueprint to your Home Assistant from this link:\n\n<code-helper copy>\n\n```shell\nhttps://github.com/airalab/home-assistant-blueprints/blob/main/door-opened-notifications/door-notifications.yaml\n```\n\n</code-helper >\n\n<robo-wiki-video controls src=\"https://static.robonomics.network/wiki/insert-blue.mp4\" />\n\nAnd create automation:\n\n<robo-wiki-video controls src=\"https://static.robonomics.network/wiki/create-automation.mp4\" />\n\nNow you will receive message from Telegram bot every time the door is open.\n\n<robo-wiki-note type=\"okay\">\nYou can use this automation with any doors/windows in your home.\n</robo-wiki-note>\n\n","tools":["Home Assistant 2022.11.3 https://github.com/home-assistant/core"],"fileInfo":{"path":"door-notification.md","name":"door-notification"}}},"context":{}}