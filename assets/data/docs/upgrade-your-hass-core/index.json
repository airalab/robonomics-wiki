{"hash":"f912c5b1696cbff864343fda61f88d91ffb059f1","data":{"doc":{"id":"608d74a9062b9f0103233489998aa08b","title":"Upgrade Your Hass Core","description":"","contributors":["PaTara43","makyul"],"headings":[],"subtitles":[{"depth":2,"value":"Install","anchor":"#install"},{"depth":2,"value":"Verify","anchor":"#verify"}],"content":"\n**This article contains instructions to upgrade your existing Home Assistant Core with the Robonomics integration.**\n\n<robo-wiki-note type=\"warning\" title=\"DISCLAIMER\">\n\n  1. It is assumed that the installation of your Home Assistant Core was completed in accordance to the [official instructions](https://www.home-assistant.io/installation/raspberrypi#install-home-assistant-core) and there is a <u>homeassistant</u> user and the `venv` environment. If it is not the case, follow instructions below, **but edit the script accordingly**.\n  2. IPFS will be installed and run as a <u>systemd</u> service on the host machine.\n  3. It is assumed that you have [Python3.9](https://www.python.org/downloads/) or higher installed.\n\n</robo-wiki-note>\n\n## Install\n\nDownload the installation script and run it in the terminal:\n  \n```shell\nwget https://raw.githubusercontent.com/airalab/robonomics-hass-utils/main/raspberry_pi/install_integration_core.sh\nsudo bash install_integration_core.sh\n```\n\nYou will see the following output:\n\n```shell\n<...>\nhttps://raw.githubusercontent.com/airalab/robonomics-hass-utils/main/raspberry_pi/install_ipfs_arc_dependent.sh\n<...>\nIPFS daemon installed and launched, use ipfs-daemon.service to manage.\n<...>\nA    robonomics/utils.py\nChecked out revision 125.\nIntegration downloaded!\n```\n\nDuring the process, you will be asked to confirm the restart of several services. Navigating with `tab`, select the `yes` option.\n  \n<robo-wiki-note type=\"note\" title=\"Error: `custom_components` exists\">\n\n  You may see an error like `mkdir: can't create directory 'custom_components': File exists`. This means that you have already have this folder with some custom components installed. Just ignore this message.\n\n</robo-wiki-note>\n  \nAfter finishing, restart your Home Assistant.\n\n## Verify\n\nCheck that the IPFS service is up and running:\n\n```shell\nsystemctl status ipfs-daemon.service \n```\n\nYou will see the following output:\n\n```\n● ipfs-daemon.service - IPFS Daemon Service\n     Loaded: loaded (/etc/systemd/system/ipfs-daemon.service; enabled; preset: enabled)\n     Active: active (running) since Thu 2022-11-03 11:30:39 UTC; 14min ago\n   Main PID: 4400 (ipfs)\n      Tasks: 12 (limit: 4416)\n     Memory: 141.9M\n        CPU: 3min 5.031s\n     CGroup: /system.slice/ipfs-daemon.service\n             └─4400 /usr/local/bin/ipfs daemon\n```\n\nNow you have two options:\n\n- If you have not yet used MQTT integration to connect smart devices via Zigbee adapter, go to the [**MQTT Setup**](/docs/mqtt-setup/) article.\n- Otherwise, go to the [**IoT Subscription**](/docs/sub-activate) section and start activating the Robonomics subscription.","tools":["Ubuntu Server 22.04 LTS https://ubuntu.com/download/raspberry-pi","Home Assistant 2022.11.3 https://github.com/home-assistant/core","Robonomics integration 1.1.3 https://github.com/airalab/homeassistant-robonomics-integration","robonomics-interface 1.3.6 https://github.com/Multi-Agent-io/robonomics-interface/","IPFS 0.14.0 https://docs.ipfs.tech/"],"fileInfo":{"path":"upgrade-your-hass-core.md","name":"upgrade-your-hass-core"}}},"context":{}}