{"hash":"c4efcd02f56a9fa405dae8422eae3b46f45234bd","data":{"doc":{"id":"a8dc5a4baecb2ac1567ced959bbd0feb","title":"Robonomics + Prometheus + Grafana","description":"","contributors":["Vourhey"],"headings":[],"subtitles":[{"depth":2,"value":"Introducción","anchor":"#introducción"},{"depth":2,"value":"Prerrequisitos","anchor":"#prerrequisitos"},{"depth":2,"value":"Paso 1: Crear usuarios de servicio","anchor":"#paso-1-crear-usuarios-de-servicio"},{"depth":2,"value":"Paso 2: Descargar Prometheus","anchor":"#paso-2-descargar-prometheus"},{"depth":2,"value":"Paso 3: Configurar Prometheus","anchor":"#paso-3-configurar-prometheus"},{"depth":2,"value":"Paso 4: Ejecutar Prometheus","anchor":"#paso-4-ejecutar-prometheus"},{"depth":2,"value":"Paso 5 — Descargar Node Exporter","anchor":"#paso-5--descargar-node-exporter"},{"depth":2,"value":"Paso 6 — Ejecutar Node Exporter","anchor":"#paso-6--ejecutar-node-exporter"},{"depth":2,"value":"Paso 7 — Configurar Prometheus para recopilar Node Exporter","anchor":"#paso-7--configurar-prometheus-para-recopilar-node-exporter"},{"depth":2,"value":"Paso 8 - Agregar Robonomic build en node_exporter","anchor":"#paso-8---agregar-robonomic-build-en-node_exporter"},{"depth":2,"value":"Paso 9 - Configuración de Grafana","anchor":"#paso-9---configuración-de-grafana"},{"depth":2,"value":"Referencias","anchor":"#referencias"}],"content":"\n**La siguiente instrucción es proporcionada por [Hubo Bubo](https://github.com/hubobubo)**\n\n**El artículo original se encuentra [aquí](https://github.com/hubobubo/robonomics/wiki/Robonomics-(XRT)-metrics-using-Prometheus-and-Grafana)**\n\n## Introducción\nPara monitorear y mantener mejor el/los nodo(s) de Robonomics, es bueno configurar un monitoreo basado en Prometheus Server y Grafana. Este documento mostrará cómo configurar cada uno de ellos para monitorear completamente su nodo.\n\n##  Prerrequisitos\n* [Configuración del servidor con Ubuntu 18.04](https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-18-04) \n* [Collator de parachain de Robonomics instalado](https://blog.aira.life/installing-and-running-the-robonomics-validator-in-the-polkadot-network-487ad4c1a567)\n* Asegúrese de que robonomics.service esté funcionando en su máquina y que el puerto 9615 sea accesible \n\n## Paso 1: Crear usuarios de servicio\n\nPor razones de seguridad, comenzaremos creando dos nuevas cuentas de usuario, prometheus y node_exporter. Cree estos dos usuarios y use las opciones _--no-create-home_ y _--shell /bin/false_ para que estos usuarios no puedan iniciar sesión en el servidor.\n```\nsudo useradd --no-create-home --shell /bin/false prometheus\nsudo useradd --no-create-home --shell /bin/false node_exporter\n```\n\nAntes de descargar los binarios de Prometheus, cree los directorios necesarios para almacenar los archivos y datos de Prometheus. Siguiendo las convenciones estándar de Linux, crearemos un directorio en _/etc_ para los archivos de configuración de Prometheus y un directorio en _/var/lib_ para sus datos.\n```\nsudo mkdir /etc/prometheus\nsudo mkdir /var/lib/prometheus\n```\nAhora, establezca la propiedad del usuario y del grupo en los nuevos directorios para el usuario prometheus.\n```\nsudo chown prometheus:prometheus /etc/prometheus\nsudo chown prometheus:prometheus /var/lib/prometheus\n```\n## Paso 2: Descargar Prometheus\n\nPrimero, descargue y descomprima la versión estable actual de Prometheus en su directorio de inicio. Puede encontrar los últimos binarios en la [página de descarga de Prometheus.](https://prometheus.io/download/)\n\n```\nwget https://github.com/prometheus/prometheus/releases/download/v2.21.0/prometheus-2.21.0.linux-amd64.tar.gz\n\n```\nAhora, descomprima el archivo descargado.\n\n```\ntar xvf prometheus-2.21.0.linux-amd64.tar.gz\n\n```\nEsto creará un directorio llamado prometheus-2.21.0.linux-amd64 que contiene dos archivos binarios (prometheus y promtool), los directorios _consoles_ y _console_libraries_ que contienen los archivos de la interfaz web, una licencia, un aviso y varios archivos de ejemplo.\n\nCopie los dos binarios al directorio _/usr/local/bin_.\n\n```\nsudo cp prometheus-2.21.0.linux-amd64/prometheus /usr/local/bin/\nsudo cp prometheus-2.21.0.linux-amd64/promtool /usr/local/bin/\n\n```\nEstablezca la propiedad del usuario y del grupo en los binarios para el usuario prometheus creado en el Paso 1.\n\n```\nsudo chown prometheus:prometheus /usr/local/bin/prometheus\nsudo chown prometheus:prometheus /usr/local/bin/promtool\n\n```\nCopie los directorios consoles y _console_libraries_ a _/etc/prometheus_.\n\n```\nsudo cp -r prometheus-2.21.0.linux-amd64/consoles /etc/prometheus\nsudo cp -r prometheus-2.21.0.linux-amd64/console_libraries /etc/prometheus\n\n```\nEstablezca la propiedad del usuario y del grupo en los directorios para el usuario prometheus. Usar la bandera -R asegurará que la propiedad se establezca también en los archivos dentro del directorio.\n\n```\nsudo chown -R prometheus:prometheus /etc/prometheus/consoles\nsudo chown -R prometheus:prometheus /etc/prometheus/console_libraries\n\n```\nAhora que Prometheus está instalado, crearemos su configuración y archivos de servicio en preparación para su primera ejecución.\n\n## Paso 3: Configurar Prometheus\n\nEn el directorio _/etc/prometheus_, use nano o su editor de texto favorito para crear un archivo de configuración llamado _prometheus.yml_.\n\n```\nsudo nano /etc/prometheus/prometheus.yml\n\n```\nEn la configuración global, defina el intervalo predeterminado para recopilar métricas. Tenga en cuenta que Prometheus aplicará esta configuración a cada exportador a menos que la configuración propia del exportador anule las globales.\n\n```\nglobal:\n  scrape_interval: 15s\n\n```\nEste valor de scrape_interval le indica a Prometheus que recopile métricas de sus exportadores cada 15 segundos, lo cual es suficiente para la mayoría de los exportadores.\nAhora, agregue Prometheus mismo a la lista de exportadores para recopilar con la siguiente directiva scrape_configs:\n\n```\n...\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n```\nPrometheus utiliza el _job_name_ para etiquetar los exportadores en consultas y gráficos, así que asegúrese de elegir algo descriptivo aquí.\n\nY, como Prometheus exporta datos importantes sobre sí mismo que puede utilizar para monitorear el rendimiento y depurar, hemos anulado la directiva global scrape_interval de 15 segundos a 5 segundos para actualizaciones más frecuentes.\n\nPor último, Prometheus utiliza las directivas _static_configs_ y _targets_ para determinar dónde se ejecutan los exportadores. Dado que este exportador en particular se ejecuta en el mismo servidor que Prometheus mismo, podemos usar localhost en lugar de una dirección IP junto con el puerto predeterminado, 9090.\n\nSu archivo de configuración debería verse así ahora:\n\n```\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n```\nGuarde el archivo y salga de su editor de texto.\n\nAhora, establezca la propiedad del usuario y del grupo en el archivo de configuración para el usuario prometheus creado en el Paso 1.\n\n```\nsudo chown prometheus:prometheus /etc/prometheus/prometheus.yml\n\n```\nCon la configuración completa, estamos listos para probar Prometheus ejecutándolo por primera vez.\n\n## Paso 4: Ejecutar Prometheus\n\nInicie Prometheus como usuario _prometheus_, proporcionando la ruta tanto al archivo de configuración como al directorio de datos.\n\n```\nsudo -u prometheus /usr/local/bin/prometheus \\\n    --config.file /etc/prometheus/prometheus.yml \\\n    --storage.tsdb.path /var/lib/prometheus/ \\\n    --web.console.templates=/etc/prometheus/consoles \\\n    --web.console.libraries=/etc/prometheus/console_libraries\n```\n\nLa salida contiene información sobre el progreso de carga de Prometheus, el archivo de configuración y los servicios relacionados. También confirma que Prometheus está escuchando en el puerto _9090_.\n\n```\n_log output_\nSep 14 17:55:53 robonomics systemd[1]: Started Prometheus.\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.347Z caller=main.go:310 msg=\"No time or size retention was set so using the default time retention\" duration=15d\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.350Z caller=main.go:346 msg=\"Starting Prometheus\" version=\"(version=2.21.0, branch=HEAD, revision=e83ef207b6c2398919b69cd87d2693cfc2fb4127)\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.351Z caller=main.go:347 build_context=\"(go=go1.15.2, user=root@a4d9bea8479e, date=20200911-11:35:02)\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.351Z caller=main.go:348 host_details=\"(Linux 4.15.0-112-generic #113-Ubuntu SMP Thu Jul 9 23:41:39 UTC 2020 x86_64 robonomics (none))\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.351Z caller=main.go:349 fd_limits=\"(soft=1024, hard=4096)\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.351Z caller=main.go:350 vm_limits=\"(soft=unlimited, hard=unlimited)\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.357Z caller=main.go:701 msg=\"Starting TSDB ...\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.368Z caller=web.go:523 component=web msg=\"Start listening for connections\" address=0.0.0.0:9090\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.372Z caller=head.go:644 component=tsdb msg=\"Replaying on-disk memory mappable chunks if any\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.373Z caller=head.go:658 component=tsdb msg=\"On-disk memory mappable chunks replay completed\" duration=12.659µs\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.373Z caller=head.go:664 component=tsdb msg=\"Replaying WAL, this may take a while\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.380Z caller=head.go:716 component=tsdb msg=\"WAL segment loaded\" segment=0 maxSegment=1\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.381Z caller=head.go:716 component=tsdb msg=\"WAL segment loaded\" segment=1 maxSegment=1\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.381Z caller=head.go:719 component=tsdb msg=\"WAL replay completed\" checkpoint_replay_duration=48.125µs wal_replay_duration=8.253748ms total_replay_duration=8.343335ms\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.383Z caller=main.go:721 fs_type=EXT4_SUPER_MAGIC\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.384Z caller=main.go:724 msg=\"TSDB started\"\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.384Z caller=main.go:850 msg=\"Loading configuration file\" filename=/etc/prometheus/prometheus.yml\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.384Z caller=main.go:881 msg=\"Completed loading of configuration file\" filename=/etc/prometheus/prometheus.yml totalDuration=908.135µs remote_storage=6.693µs web_handler=819ns query_engine=1.383µs scrape=400.232µs scrape_sd=41.679µs notify=1.1µs notify_sd=1.847µs rules=1.522µs\nSep 14 17:55:53 robonomics prometheus[29488]: level=info ts=2020-09-14T15:55:53.384Z caller=main.go:673 msg=\"Server is ready to receive web requests.\"\n```\nSi recibes un mensaje de error, verifica que hayas utilizado la sintaxis YAML en tu archivo de configuración y luego sigue las instrucciones en pantalla para resolver el problema.\n\nAhora, detén Prometheus presionando _CTRL+C_, y luego abre un nuevo archivo de servicio _systemd_.\n\n```\nsudo nano /etc/systemd/system/prometheus.service\n\n```\nEl archivo de servicio le indica a _systemd_ que ejecute Prometheus como usuario prometheus, con el archivo de configuración ubicado en el directorio _/etc/prometheus/prometheus.yml_ y que almacene sus datos en el directorio _/var/lib/prometheus_. Copia el siguiente contenido en el archivo:\n\n```\n[Unit]\nDescription=Prometheus\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=prometheus\nGroup=prometheus\nType=simple\nExecStart=/usr/local/bin/prometheus \\\n    --config.file /etc/prometheus/prometheus.yml \\\n    --storage.tsdb.path /var/lib/prometheus/ \\\n    --web.console.templates=/etc/prometheus/consoles \\\n    --web.console.libraries=/etc/prometheus/console_libraries\n\n[Install]\nWantedBy=multi-user.target\n```\n\nFinalmente, guarda el archivo y cierra tu editor de texto. Para usar el servicio recién creado, recarga systemd.\n\n```\nsudo systemctl daemon-reload\n\n```\nAhora puedes iniciar Prometheus usando el siguiente comando:\n\n```\nsudo systemctl start prometheus\n\n```\nPara asegurarte de que Prometheus esté en funcionamiento, verifica el estado del servicio.\n\n```\nsudo systemctl status prometheus\n\n```\nLa salida te muestra el estado de Prometheus, el identificador del proceso principal (PID), el uso de memoria y más.\n\nSi el estado del servicio no está activo, sigue las instrucciones en pantalla y vuelve a seguir los pasos anteriores para resolver el problema antes de continuar con el tutorial.\n\n```\n* prometheus.service - Prometheus\n   Loaded: loaded (/etc/systemd/system/prometheus.service; enabled; vendor preset: enabled)\n   Active: active (running) since Mon 2020-09-14 17:59:48 CEST; 24h ago\n Main PID: 29650 (prometheus)\n    Tasks: 9 (limit: 4915)\n   CGroup: /system.slice/prometheus.service\n           `-29650 /usr/local/bin/prometheus --config.file /etc/prometheus/prometheus.yml --storage.tsdb.path /var/lib/prometheus/ --web.console.templates=/etc/prometheus/consoles --web.console.libraries=/etc/prometheus/console_libraries\n```\n\nCuando estés listo para continuar, presiona _Q_ para salir del comando de estado. Por último, habilita el servicio para que se inicie en el arranque.\n\n```\nsudo systemctl enable prometheus\n\n```\n\nAhora que Prometheus está en funcionamiento, podemos instalar un exportador adicional para generar métricas sobre los recursos de nuestro servidor.\n\n## Paso 5 — Descargar Node Exporter\n\nPara ampliar Prometheus más allá de las métricas solo sobre sí mismo, instalaremos un exportador adicional llamado Node Exporter. Node Exporter proporciona información detallada sobre el sistema, incluido el uso de CPU, disco y memoria. Descarga la versión estable actual de Node Exporter en tu directorio de inicio. Puedes encontrar los últimos binarios en [la página de descarga de Prometheus.](https://prometheus.io/download/)\n\n```\nwget https://github.com/prometheus/node_exporter/releases/download/v1.0.1/node_exporter-1.0.1.linux-amd64.tar.gz\n\n```\nAhora, descomprima el archivo descargado.\n\n```\ntar xvf node_exporter-1.0.1.linux-amd64.tar.gz\n\n```\nEsto creará un directorio llamado _node_exporter-1.0.1.linux-amd64_ que contiene un archivo binario llamado _node_exporter_, una licencia y un aviso.\n\nCopia el binario al directorio _/usr/local/bin_ y establece la propiedad de usuario y grupo en el usuario node_exporter que creaste en el Paso 1.\n\n```\nsudo cp node_exporter-1.0.1.linux-amd64/node_exporter /usr/local/bin\nsudo chown node_exporter:node_exporter /usr/local/bin/node_exporter\n\n```\nAhora que has instalado Node Exporter, probémoslo ejecutándolo antes de crear un archivo de servicio para que se inicie en el arranque.\n\n## Paso 6 — Ejecutar Node Exporter\n\nLos pasos para ejecutar Node Exporter son similares a los de ejecutar Prometheus en sí. Comienza creando el archivo de servicio Systemd para Node Exporter.\n\n```\nsudo nano /etc/systemd/system/node_exporter.service\n\n```\nCopia el siguiente contenido en el archivo de servicio:\n\n```\n[Unit]\nDescription=Node Exporter\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nUser=node_exporter\nGroup=node_exporter\nType=simple\nExecStart=/usr/local/bin/node_exporter --collector.systemd\n\n[Install]\nWantedBy=multi-user.target\n```\n\nGuarda el archivo y cierra tu editor de texto. Por último, recarga systemd para usar el servicio recién creado.\n\n```\nsudo systemctl daemon-reload\n\n```\nAhora puedes ejecutar Node Exporter usando el siguiente comando:\n\n```\nsudo systemctl start node_exporter\n\n```\nVerificar that Node Exporter’s running correctly with the status command.\n\n```\nsudo systemctl status node_exporter\n\n```\nAl igual que antes, esta salida te muestra el estado de Node Exporter, el identificador del proceso principal (PID), el uso de memoria y más. Si el estado del servicio no está activo, sigue los mensajes en pantalla y vuelve a seguir los pasos anteriores para resolver el problema antes de continuar.\n\n```\n_Output_\n* node_exporter.service - Node Exporter\n   Loaded: loaded (/etc/systemd/system/node_exporter.service; enabled; vendor preset: enabled)\n   Active: active (running) since Mon 2020-09-14 17:58:25 CEST; 1 day 1h ago\n Main PID: 29612 (node_exporter)\n    Tasks: 7 (limit: 4915)\n   CGroup: /system.slice/node_exporter.service\n           `-29612 /usr/local/bin/node_exporter --collector.systemd\n```\nPor último, habilita Node Exporter para que se inicie en el arranque.\n\n```\nsudo systemctl enable node_exporter\n\n```\nCon Node Exporter completamente configurado y funcionando como se esperaba, le diremos a Prometheus que comience a recopilar las nuevas métricas.\n\n## Paso 7 — Configurar Prometheus para recopilar Node Exporter\n\nDado que Prometheus solo recopila exportadores que están definidos en la sección scrape_configs de su archivo de configuración, deberemos agregar una entrada para Node Exporter, al igual que hicimos para Prometheus en sí. Abre el archivo de configuración.\n\n```\nsudo nano /etc/prometheus/prometheus.yml\n\n```\nAl final del bloque scrape_configs, agrega una nueva entrada llamada node_exporter.\n\n```\n...\n  - job_name: 'node_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9100']\n```\nDado que este exportador también se está ejecutando en el mismo servidor que Prometheus en sí, podemos usar localhost en lugar de una dirección IP nuevamente junto con el puerto predeterminado de Node Exporter, 9100. Tu archivo de configuración completo debería verse así:\n\n```\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n  - job_name: 'node_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9100']\n```\nGuarda el archivo y cierra tu editor de texto cuando estés listo para continuar. Por último, reinicia Prometheus para que los cambios surtan efecto.\n\n```\nsudo systemctl restart prometheus\n\n```\nUna vez más, verifica que todo esté funcionando correctamente con el comando de estado.\n\n```\nsudo systemctl status prometheus\n\n```\nSi el estado del servicio no está activo, sigue las instrucciones en pantalla y vuelve a seguir tus pasos anteriores antes de continuar.\n\n```\nOutput\n* prometheus.service - Prometheus\n   Loaded: loaded (/etc/systemd/system/prometheus.service; enabled; vendor preset: enabled)\n   Active: active (running) since Tue 2020-09-15 19:06:56 CEST; 2s ago\n Main PID: 19725 (prometheus)\n    Tasks: 8 (limit: 4915)\n   CGroup: /system.slice/prometheus.service\n           `-19725 /usr/local/bin/prometheus --config.file /etc/prometheus/prometheus.yml --storage.tsdb.path /var/lib/prometheus/ --web.console.templates=/etc/prometheus/consoles --web.console.libraries=/etc/prometheus/console_libraries\n```\n\nAhora tenemos Prometheus y Node Exporter instalados, configurados y en funcionamiento.\n\n## Paso 8 - Agregar Robonomic build en node_exporter\n\nDespués de instalar correctamente Prometheus y node_exporter, tendremos que usar el exportador de Prometheus integrado en cada proyecto de sustrato. Para lograr esto, debemos agregar una entrada adicional a _/etc/prometheus/prometheus.yml_. \nAbre el archivo de configuración.\n\n```\nsudo nano /etc/prometheus/prometheus.yml\n\n```\nAl final del bloque scrape_configs, agrega una nueva entrada llamada robonomic_exporter.\n\n``` \n  - job_name: 'robonomics_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9615']\n```\nGuarde el archivo y salga de su editor de texto. Su archivo de configuración completo debería verse así:\n\n```\nglobal:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9090']\n  - job_name: 'node_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9100']\n  - job_name: 'robonomics_exporter'\n    scrape_interval: 5s\n    static_configs:\n      - targets: ['localhost:9615']\n```\n\nFinalmente, reinicie Prometheus para que los cambios surtan efecto.\n\n```\nsudo systemctl restart prometheus\n\n```\nUna vez más, verifica que todo esté funcionando correctamente con el comando de estado.\n\n```\nsudo systemctl status prometheus\n\n```\nAhora tenemos _Prometheus_, _Node Exporter_ y _Robonomic Exporter_ instalados, configurados y en funcionamiento. Ahora pasemos a Grafana.\n\n## Paso 9 - Configuración de Grafana\n\nEl último paso es conectar Prometheus como una Fuente de Datos en Grafana. Para este tutorial, utilizaremos una instancia gratuita de Grafana basada en la nube que permite tener hasta 5 paneles de control, así como un panel de control dedicado de [Robonomics](https://grafana.com/grafana/dashboards/13015). Simplemente vaya a [grafana.com](https://grafana.com/), cree una cuenta nueva e inicie sesión en su instancia de Grafana recién creada.\n\nAl principio, debemos agregar a Grafana una nueva _**Fuente de Datos**_, que en nuestro caso será el servidor Prometheus.\nVaya a Fuente de Datos:\n\n>![DataSource](../images/prometheus-grafana/grafana-6-2020-09-15-19-18-50-Window.png)\n\nLuego haga clic en **_Agregar fuente de datos_**\n\n>![DataSource](../images/prometheus-grafana/grafana-7-2020-09-15-19-18-50-Window.png)\n\nNext seleccione _**Prometheus**_\n\n>![DataSource](../images/prometheus-grafana/grafana-8-2020-09-15-19-18-50-Window.png)\n\nEn la nueva pantalla, ingrese la **_dirección IP de su servidor Prometheus con el puerto 9090_**\n\n> ![DataSource](../images/prometheus-grafana/grafana-9-2020-09-15-19-18-50-Window.png)\n\nDespués de eso, haga clic en _**Guardar y probar**_ si ha seguido todos los pasos, debería aparecer en verde y listo para importar el panel de control. En el sitio principal, haga clic en **+** y luego en **Importar**, como se muestra en la imagen a continuación:\n\n> ![Import dashboard](../images/prometheus-grafana/grafana-1-2020-09-15-19-18-50-Window.png)\n\nLuego debería ver la página de importación:\n\n> ![Import page](../images/prometheus-grafana/grafana-2-2020-09-15-19-18-50-Window.png)\n\nEn la _URL o ID del panel de control de Grafana.com_, escriba _**13015**_ (ya que este es el ID del panel de control de Robonomic)\n\n> ![Import Robonomic dashboard](../images/prometheus-grafana/grafana-3-2020-09-15-19-18-50-Window.png)\n\nDespués de cargar el panel de control externo, verá esta pantalla:\n\n> ![XRT 13015 dashboard import](../images/prometheus-grafana/grafana-4-2020-09-15-19-18-50-Window.png)\n\nEl último paso es elegir la **_Fuente de Datos_** previamente creada y hacer clic en _**Importar**_\n\n> ![Prometheus as a DataSource](../images/prometheus-grafana/grafana-5-2020-09-15-19-18-50-Window.png)\n\n¡ESO ES TODO! En este punto, debería ver el panel de control importado. \n\n\n## Referencias\n\n* [Cómo instalar Prometheus en Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-install-prometheus-on-ubuntu-16-04)\n* [Crear un panel de control de monitoreo con Prometheus + Grafana](https://medium.com/htc-research-engineering-blog/build-a-monitoring-dashboard-by-prometheus-grafana-741a7d949ec2)\n* [Soporte de Grafana para Prometheus](https://prometheus.io/docs/visualization/grafana/)\n* [Monitoreo de métricas de host de Linux con el exportador de nodos](https://prometheus.io/docs/guides/node-exporter/)\n* [Consultar Prometheus](https://prometheus.io/docs/prometheus/latest/querying/basics/)\n* [Visualizar métricas de nodos](https://substrate.dev/docs/en/tutorials/visualize-node-metrics/)\n* [Exportador de Prometheus para Substrate](https://github.com/paritytech/substrate/tree/master/utils/prometheus)\n* [polkadot-dashboard](https://github.com/w3f/polkadot-dashboard)\n* [Métricas de nodos de Polkadot](https://grafana.com/grafana/dashboards/12425)\n* [Panel de control del Exportador de Nodos para Prometheus](https://grafana.com/grafana/dashboards/11074)\n* [Métricas de ROBONOMICS (XRT) de Grafana](https://grafana.com/grafana/dashboards/13015)\n\n","tools":[],"fileInfo":{"path":"es/robonomics-prometheus-grafana.md","name":"robonomics-prometheus-grafana"}}},"context":{}}