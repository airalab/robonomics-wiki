{"hash":"241f25bd2e83e5470e1ad8f0bed93d1f63beb6ce","data":{"doc":{"id":"a211405d23064ef7e6b3dbb19ed58b9f","title":"Robonomics IO in practice","headings":[{"value":"Robonomics IO in practice"}],"subtitles":[{"depth":1,"value":"Robonomics IO in practice","anchor":"#robonomics-io-in-practice"},{"depth":2,"value":"Requirements","anchor":"#requirements"},{"depth":3,"value":"SDS011 check (optional)","anchor":"#sds011-check-optional"},{"depth":2,"value":"Quick start","anchor":"#quick-start"},{"depth":2,"value":"IPFS access","anchor":"#ipfs-access"},{"depth":2,"value":"Robonomics Datalog","anchor":"#robonomics-datalog"}],"content":"import Asciinema from '~/components/Asciinema.vue'\n\n# Robonomics IO in practice\n\n## Requirements\n\n* the Docker is required, please [install](https://docs.docker.com/engine/install/) it first.\n* the [Nova SDS011](https://aqicn.org/sensor/sds011) sensor is *optional*.\n\n### SDS011 check (optional)\n\nIf you have connected SDS011 sensor then please check that it presented in `/dev` and have correct access rights.\n\n<Asciinema vid=\"PUx6Nbss6A4ilZXky6bfbSuaW\"/>\n\n## Quick start\n\nWhen docker is installed let's launch robonomics docker image from [Official repository](https://hub.docker.com/r/robonomics/robonomics). I'll use `winter-school` tag during this lesson.\n\n<Asciinema vid=\"UKVTbTmM0GKiTEomDxUeoKIyq\"/>\n\nWhen docker image is ready let's try to read a data using `robonomics io` command (optiona if you have SDS011 device).\n\n<Asciinema vid=\"QVCdOrWzMy0bNqBfInCUALgAd\"/>\n\nIf you have no SDS011 sensor then feel free to use virtual SDS011 sensor available in the same docker container via `vsds011.sh`. And everywhere in folloding command please use it as transparent replacement for physical sensor.\n\n<Asciinema vid=\"JoaONrsvVvbjQYCKtVkFcBQUT\"/>\n\nThe Robonomics IO subsystem have two kind of commands:\n\n* `read` - get data from device that support read access;\n* `write` - write data into device that support write access.\n\nSome devices support them both, in that case devices presented in both command arguments.\n\n> For example, virtual device `ipfs` supports `read` data from IPFS by hash as same as `write` data into IPFS.\n\nFull list of supported devices is possible to get running `robonomics io read` or `robonomics io write` without arguments.\n\n## IPFS access\n\nOn next step runned IPFS daemon is required. For this purpose let's run init IPFS and run daemon on dedicated\nterminal tab.\n\n<Asciinema vid=\"185zghtRahHMORQdiqFUwQrTC\"/>\n\nWhen daemon launched is possible to connect docker image in separate tab and use `robonomics io` for writing and reading a data.\n\n<Asciinema vid=\"nv2vxMEbV0syOgMm55MyUGugL\"/>\n\nThe output forwarding is also works here, that means it's possible to forward SDS011 sensor data into IPFS using `|` (pipe) symbol in console. Let's try to do it.\n\n<Asciinema vid=\"u3tZqFJ7WcZMaRlTdXF3bnI4m\"/>\n\nWhere JSON data from SDS011 forwarded as input for IPFS writer and result is published on stdout.\n\nThis approach permits engineer extrimely quickly make a simple program just combine a primitive readers and writers from `robonomics io` tools.\n\n```bash\nrobonomics io read sds011 | gz | robonomics io write pubsub my-sensor-data\n```\n\n## Robonomics Datalog\n\n> The target of Robonomics [Datalog](https://crates.robonomics.network/robonomics_protocol/datalog/index.html) is data blockchainization. This pallet provides function to store custom data on blockchain to make it immutable, impossible to change in future.\n\nFor the final part of this lesson runned robonomics node is required. Development mode is preffered because of quick block time and already distributed balances on preset accounts. Let's launch it on separate terminal tab in the same container.\n\n<Asciinema vid=\"OxsryOPyAd9vZCNa91ggwxA8Z\"/>\n\nThen private seed also required as argument for `datalog` device. This seed is used to sign transaction and presents account as a sender. Let's generate it using embedded `robonomics key` command.\n\n<Asciinema vid=\"swGw05jzGupo9NcFaCeWHAnc4\"/>\n\nSave generated address and seed on safe place for use it later.\n\nCurrently address balance is zero and the network don't permits to send transactions from this address. To fix it let's transfer a bit of tokens from `Alice` account. I'll use Robonomics Portal on https://parachain.robonomics.network connected to local node with address `ws://127.0.0.1:9944`.\n\n![portal transfer](https://ipfs.io/ipfs/QmbpArfthyor5wFWRexgPAyjK7GaFduasc1eoReaf9TpJg/tran.png)\n\nAnd then `datalog` device could be used for saving any data on blockchain. The key `-s` is used to set secret seed of account. Account should have non-zero balance to send transactions.\n\n<Asciinema vid=\"toxCPOYroE3oi7P1mNp4Inc2T\"/>\n\nIf every thing is correct the you should see `Datalog` event on `Explorer` page of Robonomics portal.\n\n![portal datalog](https://ipfs.io/ipfs/QmbpArfthyor5wFWRexgPAyjK7GaFduasc1eoReaf9TpJg/datalog.png)\n\nThe final step is a bit complex but it's good to try use all knowledge of this lesson. Let's make a simple program\nthat collects data from SDS011 sensor (or file), pack it into IPFS and then send `datalog` transaction to save hash on blockchain.\n\n```\nSDS011 -> IPFS -> Blockchain\n```\n\nIt's easy to implement using Robonomics IO, let's do that.\n\n<Asciinema vid=\"pB9gHTal6Z1Ra0lG6jzE3wHXD\"/>\n\nIf everything well the `Datalog` event with IPFS hash should be presented.\n\n![portal datalog complex](https://ipfs.io/ipfs/QmbpArfthyor5wFWRexgPAyjK7GaFduasc1eoReaf9TpJg/datalog_complex.png)"}},"context":{}}