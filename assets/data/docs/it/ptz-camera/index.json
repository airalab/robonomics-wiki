{"hash":"17cc78d0b06fdca2940be0bd65777dc98e2b7d1b","data":{"doc":{"id":"ba501564af5586e3092ae5cf5f7eabc8","title":"Controllo telecamera PTZ in Home Assistant","description":"","contributors":["nakata5321"],"headings":[],"subtitles":[{"depth":2,"value":"Integrazione ONVIF","anchor":"#integrazione-onvif"},{"depth":2,"value":"Aggiungi il controllo della telecamera al cruscotto","anchor":"#aggiungi-il-controllo-della-telecamera-al-cruscotto"},{"depth":2,"value":"Risoluzione dei problemi","anchor":"#risoluzione-dei-problemi"}],"content":"\nQuesto articolo copre il processo di configurazione di una telecamera PTZ in Home Assistant. \nVerrà utilizzato il protocollo ONVIF. Ciò richiede un account locale della telecamera.\n\n<robo-wiki-note type=\"warning\">\nLa procedura per configurare l'account locale della telecamera non è coperta da questo articolo.\n</robo-wiki-note>\n\nRequisiti:\n- Telecamera PTZ\n- Account locale della telecamera\n- Indirizzo IP della telecamera\n- Home Assistant configurato\n\n## Integrazione ONVIF\n\nIniziamo con l'installazione dell'integrazione **ONVIF**. \n\nVai su \"Devices & Services\" in \"Settings\" e premi il pulsante \"ADD INTEGRATION\".\nDigita \"ONVIF\" e scegli l'integrazione. Vedrai la finestra successiva.\n\n <robo-wiki-picture src=\"home-assistant/onvifsetup.jpg\" />\n\nPremi il pulsante \"Submit\". Proverà a cercare automaticamente la tua telecamera. Se avrà successo, \nscegli la tua telecamera dalla lista e compila i campi vuoti. \nIn caso contrario, dovrai compilare manualmente tutti i campi. Vedrai la seguente finestra.\n\n <robo-wiki-picture src=\"home-assistant/onvifconfig.jpg\" />\n\nCompila gli spazi vuoti:\n- Name - dai un nome alla tua telecamera\n- Host - fornisci l'indirizzo IP della tua telecamera\n- Port - di solito è comune nel 2020, ma il tuo fornitore di telecamere potrebbe cambiarlo\n- Username - scrivi un nome utente dell'account locale della tua telecamera\n  - Password - scrivi una password per l'account locale della tua telecamera\n\ne premi \"Submit\". Scegli un'area per la tua telecamera e clicca su \"Finish\".\n\n## Aggiungi il controllo della telecamera al cruscotto\n\nOra che hai configurato completamente la telecamera, puoi aggiungere il suo flusso e i pulsanti di controllo al cruscotto.\n\nVai al cruscotto e inizia creando una nuova scheda. Scegli quella di \"Picture Glance\".\n\n <robo-wiki-picture src=\"home-assistant/glance.jpg\" />\n\nCompila i dati:\n- Title - scegli il titolo dell'immagine della telecamera\n- Camera Entity - scegli un'entità della telecamera dal menu a discesa\n- Camera View - scegli \"live\" per avere meno ritardo\n\nSuccessivamente, passa alla modalità \"Code Editor\" premendo il pulsante in basso a sinistra. Vedrai il seguente codice:\n```shell\ncamera_view: live\ntype: picture-glance\ntitle: Kitchen\nimage: https://demo.home-assistant.io/stub_config/kitchen.png\nentities: []\ncamera_image: camera.tapo_mainstream\n```\n\nSostituisci il contenuto di `entities: []` secondo l'esempio sottostante (`<YOUR_CAMERA_ENTITY>` è lo stesso del parametro `camera_image`):\n\n<code-helper copy>\n\n```\nentities:\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        pan: LEFT\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Pan Left\n    show_state: false\n    icon: 'mdi:arrow-left'\n    show_icon: true\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        tilt: UP\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Tilt Up\n    icon: 'mdi:arrow-up'\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        tilt: DOWN\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Tilt Down\n    icon: 'mdi:arrow-down'\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        pan: RIGHT\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Pan Right\n    icon: 'mdi:arrow-right'\n    show_icon: true\n```\n\n</code-helper>\n\nQuesto è tutto. Ora dovresti vedere la scheda della telecamera PTZ sul cruscotto insieme ai pulsanti di controllo.\n\n## Risoluzione dei problemi\nSe stai usando Home Assistant Core e non vedi uno stream dalla telecamera, dovresti installare le integrazioni \"stream\" e \"FFMPEG\". \nPer fare ciò, devi aggiungere le stringhe `stream: ` e `ffmpeg: ` alla fine di configuration.yaml.","tools":[],"fileInfo":{"path":"it/ptz-camera.md","name":"ptz-camera"}}},"context":{}}