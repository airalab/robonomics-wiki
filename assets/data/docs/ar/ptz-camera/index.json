{"hash":"6ddc85c70d1e4001f71d1257dbf7abdecc0e208d","data":{"doc":{"id":"36721abb21f49454ce511f24d990772f","title":"تحكم في كاميرا PTZ في Home Assistant","description":"","contributors":["nakata5321"],"headings":[],"subtitles":[{"depth":2,"value":"التكامل مع ONVIF","anchor":"#التكامل-مع-onvif"},{"depth":2,"value":"أضف تحكم الكاميرا إلى لوحة القيادة","anchor":"#أضف-تحكم-الكاميرا-إلى-لوحة-القيادة"},{"depth":2,"value":"حل المشاكل","anchor":"#حل-المشاكل"}],"content":"\nتغطي هذه المقالة عملية إعداد كاميرا PTZ في Home Assistant. \nسيتم استخدام بروتوكول ONVIF. هذا يتطلب حساب كاميرا محلي.\n\n<robo-wiki-note type=\"warning\">\nعملية إعداد حساب الكاميرا المحلية غير مشمولة في هذه المقالة.\n</robo-wiki-note>\n\nالمتطلبات:\n- كاميرا PTZ\n- حساب كامرا محلي\n- عنوان IP للكاميرا\n- Home Assistant المكونة\n\n## التكامل مع ONVIF\n\nلنبدأ بتثبيت **تكامل ONVIF**. \n\nانتقل إلى \"Devices & Services\" في \"Settings\" واضغط على الزر \"ADD INTEGRATION\".\nاكتب \"ONVIF\" واختر التكامل. ستظهر النافذة التالية.\n\n <robo-wiki-picture src=\"home-assistant/onvifsetup.jpg\" />\n\nاضغط على زر \"Submit\". سيحاول البحث تلقائيًا عن الكاميرا الخاصة بك. إذا نجح، \nاختر كاميراك من القائمة واملأ الحقول الفارغة. \nإلا أنه يجب عليك ملء جميع الحقول يدويًا إذا لم ينجح البحث التلقائي. ستظهر النافذة التالية.\n\n <robo-wiki-picture src=\"home-assistant/onvifconfig.jpg\" />\n\nاملأ الفجوات:\n- Name - قم بإعطاء اسم لكاميراك\n- Host - قدم عنوان IP لكاميراك\n- Port - عادة ما يكون 2020 هو الأكثر شيوعًا، ولكن مزود الكاميرا الخاص بك قد يغيره\n- Username - اكتب اسم مستخدم حساب الكاميرا المحلي\n  - Password - اكتب كلمة مرور لحساب الكاميرا المحلي\n\nواضغط على \"Submit\". اختر منطقة للكاميرا الخاصة بك وانقر على \"Finish\".\n\n## أضف تحكم الكاميرا إلى لوحة القيادة\n\nالآن بعد أن قمت بإعداد الكاميرا بالكامل، يمكنك إضافة تدفقها وأزرار التحكم إلى لوحة القيادة.\n\nانتقل إلى لوحة القيادة وابدأ بإنشاء بطاقة جديدة. اختر \"Picture Glance\".\n\n <robo-wiki-picture src=\"home-assistant/glance.jpg\" />\n\nاملأ البيانات:\n- Title - اختر عنوان صورة الكاميرا\n- Camera Entity - اختر كيان الكاميرا من القائمة المنسدلة\n- Camera View - اختر \"live\" للحصول على تأخير أقل\n\nبعد ذلك، انتقل إلى وضع \"Code Editor\" عن طريق الضغط على الزر في الجانب الأيسر السفلي. سترى الكود التالي:\n```shell\ncamera_view: live\ntype: picture-glance\ntitle: Kitchen\nimage: https://demo.home-assistant.io/stub_config/kitchen.png\nentities: []\ncamera_image: camera.tapo_mainstream\n```\n\nاستبدل محتوى `entities: []` وفقًا للمثال التالي (`<YOUR_CAMERA_ENTITY>` هو نفس المعلمة `camera_image`):\n\n<code-helper copy>\n\n```\nentities:\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        pan: LEFT\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Pan Left\n    show_state: false\n    icon: 'mdi:arrow-left'\n    show_icon: true\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        tilt: UP\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Tilt Up\n    icon: 'mdi:arrow-up'\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        tilt: DOWN\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Tilt Down\n    icon: 'mdi:arrow-down'\n  - entity: <YOUR_CAMERA_ENTITY>\n    tap_action:\n      action: call-service\n      service: onvif.ptz\n      service_data:\n        entity_id: <YOUR_CAMERA_ENTITY>\n        pan: RIGHT\n        speed: 1\n        distance: 0.3\n        move_mode: ContinuousMove\n    name: Pan Right\n    icon: 'mdi:arrow-right'\n    show_icon: true\n```\n\n</code-helper>\n\nهذا كل شيء. الآن يجب أن ترى بطاقة الكاميرا PTZ على لوحة القيادة مع أزرار التحكم.\n\n## حل المشاكل\nإذا كنت تستخدم Home Assistant Core ولا ترى تيارًا من الكاميرا ، يجب عليك تثبيت تكاملات \"stream\" و \"FFMPEG\". \nللقيام بذلك، يجب عليك إضافة السلاسل `stream: ` و `ffmpeg: ` في نهاية configuration.yaml.","tools":[],"fileInfo":{"path":"ar/ptz-camera.md","name":"ptz-camera"}}},"context":{}}