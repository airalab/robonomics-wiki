{"hash":"32a98c3a662b1063bc2bbf27afd4027f3b4cedb2","data":{"doc":{"id":"8e16fe9332fa9703ca59864eab67c70a","title":"كيفية إطلاق مجمع Robonomics","description":"","contributors":["dergudzon","Leemo94"],"headings":[],"subtitles":[{"depth":2,"value":"ما هو المجمع","anchor":"#ما-هو-المجمع"},{"depth":2,"value":"المتطلبات","anchor":"#المتطلبات"},{"depth":2,"value":"معلومات هامة","anchor":"#معلومات-هامة"},{"depth":2,"value":"أطلق مجمع Robonomics بسهولة للمرة الأولى","anchor":"#أطلق-مجمع-robonomics-بسهولة-للمرة-الأولى"},{"depth":2,"value":"قم بتشغيل أداة تجميع Robonomics كخدمة","anchor":"#قم-بتشغيل-أداة-تجميع-robonomics-كخدمة"},{"depth":2,"value":"تسريع عملية المزامنة باستخدام لقطة Kusama","anchor":"#تسريع-عملية-المزامنة-باستخدام-لقطة-kusama"},{"depth":2,"value":"حل المشاكل","anchor":"#حل-المشاكل"},{"depth":3,"value":"خطأ: \"State Database error: Too many sibling blocks inserted\"","anchor":"#خطأ-state-database-error-too-many-sibling-blocks-inserted"},{"depth":3,"value":"خطأ: \"cannot create module: compilation settings are not compatible with the native host\"","anchor":"#خطأ-cannot-create-module-compilation-settings-are-not-compatible-with-the-native-host"}],"content":"\n<robo-wiki-note type=\"note\" title=\"Note\">\n  في الفيديو التعليمي ولقطات الشاشة لهذه المقالة، استخدمنا الإصدار 1.4.0 من Robonomics. تحتاج إلى استخدام نفس الأوامر، ولكن استبدل إصدار Robonomics بالإصدار الحلي.\n</robo-wiki-note>\n\nhttps://youtu.be/wUTDDLDbzTg\n\nحاليًا، يتم الحفاظ على شبكة Robonomics بشكل أساسي من قبل المطورين الأصليين، ولكن يمكن لأي شخص دعم المشروع. كل عقدة كاملة إضافية في سلسلة الكتل تساعد في جعلها أكثر ستدامة ومقاومة للأخطاء. تتوفر برامج تشغيل عقدة Robonomics في [الإصدارات](https://github.com/airalab/robonomics/releases) أو يمكن [بناؤها من المصدر](/docs/how-to-build-collator-node/).\n\n## ما هو المجمع\n\nCollator هو جزء من Robonomics parachain. هذا النوع من العقدة ينشئ كتل جديدة لسلسلة Robonomics.\n\n>يقوم المجمعون بالحفاظ على سلاسل الجانب عن طريق جمع معاملات سلاسل الجانب من المستخدمين وإنتاج دلائل انتقال الحالة لمحققي سلسلة الإرسال. بعبارة أخرى، يقوم المجمعون بالحفاظ على سلاسل الجانب عن طريق تجميع معاملات سلاسل الجانب في مرشحات كتل سلاسل الجانب وإنتاج دلائل انتقال الحالة للمحققين بناءً على تلك الكتل.\n\nيمكنك معرفة المزيد عن collators على صفحة الويكي المتعلقة [Polkadot](https://wiki.polkadot.network/docs/learn-collator)\n\nفي سلسلة Robonomics المظلية، يحصل كل مُجمِّع على مكافآت قدرها (**0.001598184 XRT**) لكل كتلة يبنيها المُجمِّع (تحدث المكافآت عندما يتم إغلاق الكتل بالسلسلة).\nأيضًا، يحصل المجمع الذي يبني الكتلة على **50% من رسوم المعاملات** الموجودة في الكتلة التي ينشئها.\n\n## المتطلبات\n\nيُوصَى بأن تطلق مجمعًا باستخدام **متطلبات الأجهزة القياسية** لـ [مُصَادِقِيَّةِ Polkadot](https://wiki.polkadot.network/docs/maintain-guides-how-to-validate-polkadot#standard-hardware):\n+ متوافق مع x86-64.\n+ Intel Ice Lake، أو أحدث (Xeon أو سلسلة Core)؛ AMD Zen3، أو أحدث (EPYC أو Ryzen).\n+ 4 أنوية فيزيائية بتردد 3.4 جيجاهرتز.\n+ تعطيل التعدد المتزامن للمواضيع (Hyper-Threading على Intel، SMT على AMD).\n+ التخزين - قرص NVMe SSD بسعة 1 تيرابايت (حيث يجب أن يكون بحجم مناسب للتعامل مع نمو سلسلة الكتل).\n+ الذاكرة - 32 جيجابايت DDR4 ECC\n\n\nفي هذه المقالة نستخدم المواصفات التالية:\n+ 4 vCPU\n+ 700 جيجابايت من مساحة NVMe لقواعد بيانات المجمع. يتطلب القدرة على توسيع مساحة القرص هذه.\n+ 8 جيجابايت من ذاكرة الوصول العشوائي\n\n\n## معلومات هامة\n1. نستخدم بعض المتغيرات في هذه التعليمات، وسيتعين عليك استبدال القيم بقيمك الخاصة في جميع الأوامر:\n    + **%NODE_NAME%** هو اسم العقدة. مثال: *my-robonomics-kusama-collator*\n    + **%BASE_PATH%** هو المسار إلى الحجم المركب. مثال: */mnt/HC_Volume_16056435/*\n    + **%POLKADOT_ACCOUNT_ADDRESS%** هو عنوان الحساب في نظام Polkadot في تنسيق SS58. مثال: *4Gp3QpacQhp4ZReGhJ47pzExQiwoNPgqTWYqEQca9XAvrYsu*\n\n2. لاحظ أنه يجب عليك تضمين *--state-cache-size=0* في إطلاق خدمة المجمع. هذا المعلمة مهمة لاستقرار المجمع.\nيمكنك رؤية مزيد من المعلومات في [المشكلة ذات الصلة](https://github.com/airalab/robonomics/issues/234) على github.\n\n## أطلق مجمع Robonomics بسهولة للمرة الأولى\n\nيمكنك بسهولة إطلاق مجمع مباشرة في سطر الأوامر للتحقق من الأخطاء.\nبعد القيام بذلك، يُوصَى بشدة بإطلاق مجمع Robonomics كخدمة (انظر الخطوة التالية).\n\n```\nroot@robokusama-collator-screencast:~# robonomics \\\n  --parachain-id=2048 \\\n  --name=\"%NODE_NAME%\" \\\n  --validator \\\n  --lighthouse-account=\"%POLKADOT_ACCOUNT_ADDRESS%\" \\\n  --telemetry-url=\"wss://telemetry.parachain.robonomics.network/submit/ 0\" \\\n  --base-path=\"%BASE_PATH%\" \\\n  --state-cache-size=0 \\\n  -- \\\n  --database=RocksDb \n```\n\n\n## قم بتشغيل أداة تجميع Robonomics كخدمة\n\n1. قم بإنشاء المستخدم للخدمة مع دليل المستخدم الرئيسي\n    ```\n    root@robokusama-collator-screencast:~# useradd -m robonomics\n    ```\n\n2. قم بتنزيل واستخراج ونقل البرنامج الثنائي لـ Robonomics إلى الدليل */usr/local/bin/*. يجب عليك استبدال *$ROBONOMICS_VERSION* بالإصدار الحالي لـ Robonomics في الأوامر في هذا القسم. يمكنك العثور على الإصدار الحالي على [صفحة الإصدارات في مستودع Robonomics على github](https://github.com/airalab/robonomics/releases).\n   ```\n   root@robokusama-collator-screencast:~# wget https://github.com/airalab/robonomics/releases/download/v$ROBONOMICS_VERSION/robonomics-$ROBONOMICS_VERSION-x86_64-unknown-linux-gnu.tar.gz\n   root@robokusama-collator-screencast:~# tar -xf robonomics-$ROBONOMICS_VERSION-x86_64-unknown-linux-gnu.tar.gz\n   root@robokusama-collator-screencast:~# mv robonomics /usr/local/bin/\n   ```\n   ![Download Robonomics 1.4.0 binary](../images/how-to-launch-the-robonomics-collator/wget_binary.png)\n\n\n3. قم بإنشاء ملف الخدمة systemd بالاسم *robonomics.service*:\n    ```\n    root@robokusama-collator-screencast:~# nano /etc/systemd/system/robonomics.service\n    ```\n\n    وأضف الأسطر التالية في ملف الخدمة:\n    ```\n    [Unit]\n    Description=robonomics\n    After=network.target\n    \n    [Service]\n    User=robonomics\n    Group=robonomics\n    Type=simple\n    Restart=on-failure\n\n    ExecStart=/usr/local/bin/robonomics \\\n      --parachain-id=2048 \\\n      --name=\"%NODE_NAME%\" \\\n      --validator \\\n      --lighthouse-account=\"%POLKADOT_ACCOUNT_ADDRESS%\" \\\n      --telemetry-url=\"wss://telemetry.parachain.robonomics.network/submit/ 0\" \\\n      --base-path=\"%BASE_PATH%\" \\\n      --state-cache-size=0 \\\n      --execution=Wasm \\\n      -- \\\n      --database=RocksDb \\\n      --execution=Wasm\n\n    [Install]\n    WantedBy=multi-user.target\n    ```\n\n    ![Create Robonomics service file](../images/how-to-launch-the-robonomics-collator/nano_robonomics_service.png)\n\n\n    ```\n    root@robokusama-collator-screencast:~# chown -R robonomics:robonomics %BASE_PATH%\n    ```\n\n\n4. احفظ هذا الملف، ثم قم بتمكين وبدء الخدمة:\n    ```\n    root@robokusama-collator-screencast:~# systemctl enable robonomics.service \n    root@robokusama-collator-screencast:~# systemctl start robonomics.service\n    ```\n\nعنوان الرصد: https://telemetry.parachain.robonomics.network/#/Robonomics\n\nيمكن مراقبة سجلات المُجمعين باستخدام: `journalctl -u robonomics.service -f`\n\nبمجرد إطلاق أداة تجميع Robonomics، ستبدأ في المزامنة مع سلسلة Kusama Relay Chain، وقد يستغرق ذلك وقتًا طويلاً، اعتمادًا على سرعة الشبكة لديك ومواصفات النظام، لذلك نوصي بتنزيل لقطة Kusama. \n\n\n## تسريع عملية المزامنة باستخدام لقطة Kusama\n\nنوصي بالقيام بذلك فور إنشاء الخدمة وبدء تشغيلها. يمكنك العثور على مزيد من المعلومات حول اللقطات وتعليمات الاستخدام على الصفحة التالية: https://ksm-rocksdb.polkashots.io/\n\nالتعليمات:\n\n1. قم بإيقاف خدمة Robonomics وإزالة دليل قاعدة بيانات Kusama الحالي:\n    ```\n    root@robokusama-collator-screencast:~# systemctl stop robonomics.service\n    root@robokusama-collator-screencast:~# rm -rf %BASE_PATH%/polkadot/chains/ksmcc3/db/\n    ```\n2. قم بتنزيل اللقطة الفعلية واستخراجها:\n    ```\n    root@robokusama-collator-screencast:~# wget https://ksm-rocksdb.polkashots.io/snapshot -O kusama.RocksDb.tar.lz4\n    root@robokusama-collator-screencast:~# lz4 -c -d kusama.RocksDb.tar.lz4 | tar -x -C %BASE_PATH%/polkadot/chains/ksmcc3\n    ```\n    ![Download Kusama snapshot](../images/how-to-launch-the-robonomics-collator/wget_kusama_snapshot.png)\n\n    يمكنك إزالة الأرشيف الذي تم تنزيله بعد التفريغ الناجح:\n    ```\n    root@robokusama-collator-screencast:~# rm -v kusama.RocksDb.tar.lz4\n    ```\n\n3. تعيين الملكية الصحيحة لمجلد قاعدة البيانات:\n    ```\n    root@robokusama-collator-screencast:~# chown -R robonomics:robonomics %BASE_PATH%/polkadot/chains/ksmcc3\n    ```\n4. قم بتشغيل خدمة Robonomics مرة أخرى:\n    ```\n    root@robokusama-collator-screencast:~# systemctl start robonomics.service\n    ```\n5. تحقق من سجلات الخدمة:\n    ```\n    root@robokusama-collator-screencast:~# journalctl -u robonomics.service -f\n    ```    \n    ![Check service logs](../images/how-to-launch-the-robonomics-collator/finish_journalctl.png)\n\n## حل المشاكل\n### خطأ: \"State Database error: Too many sibling blocks inserted\"\nلإصلاح هذا الخطأ، يمكنك فقط تشغيل أداة التجميع في وضع الأرشيف:\n\n1) أولاً، يجب أن تقوم بإيقاف خدمة Robonomics: \n    \n    root@robokusama-collator-screencast:~# systemctl stop robonomics.service\n    \n\n2) ثم أضف المعلمة `--state-pruning=archive` إلى جزء الباراشين في ملف الخدمة. مثال على ملف الخدمة المحرر:\n    ```\n    [Unit]\n    Description=robonomics\n    After=network.target\n    \n    [Service]\n    User=robonomics\n    Group=robonomics\n    Type=simple\n    Restart=on-failure\n\n    ExecStart=/usr/local/bin/robonomics \\\n    --parachain-id=2048 \\\n    --name=\"%NODE_NAME%\" \\\n    --validator \\\n    --lighthouse-account=\"%POLKADOT_ACCOUNT_ADDRESS%\" \\\n    --telemetry-url=\"wss://telemetry.parachain.robonomics.network/submit/ 0\" \\\n    --base-path=\"%BASE_PATH%\" \\\n    --state-cache-size=0 \\\n    --execution=Wasm \\\n    --state-pruning=archive \\\n    -- \\\n    --database=RocksDb \\\n    --execution=Wasm \n\n    [Install]\n    WantedBy=multi-user.target\n    ```\n\n3) أعد تحميل تكوين مدير systemd:\n    ```\n    root@robokusama-collator-screencast:~# systemctl daemon-reload\n    ```\n\n4) قم بإزالة قاعدة بيانات الباراشين الموجودة:\n    ```\n    root@robokusama-collator-screencast:~# rm -rf %BASE_PATH%/chains/robonomics/db/\n    ```\n\n5) قم بتشغي خدمة الروبونوميكس:\n    ```\n    root@robokusama-collator-screencast:~# systemctl start robonomics.service\n    ```\n\n    بعد ذلك يجب الانتظار لمزامنة قاعدة بيانات الباراشين.\n\n### خطأ: \"cannot create module: compilation settings are not compatible with the native host\" \nهذا الخطأ متعلق بمعلمات الافتراضية. يجب استخدام نوع \"host-model\" للمعالج المحاكى. يمكنك ضبط ذلك على مضيف الافتراضية.\n\nولكن إذا واجهت هذا الخطأ على أي استضافة، فيجب عليك طلب الدعم الفني حول هذه المشكلة فقط.\n","tools":["Ubuntu 22.04.1 https://releases.ubuntu.com/22.04/","Robonomics 2.6.0 https://github.com/airalab/robonomics"],"fileInfo":{"path":"ar/how-to-launch-the-robonomics-collator.md","name":"how-to-launch-the-robonomics-collator"}}},"context":{}}