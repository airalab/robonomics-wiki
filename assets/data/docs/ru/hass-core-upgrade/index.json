{"hash":"374e5e6bd3c921ba1dd42a764de57557a5b04902","data":{"doc":{"id":"e0e2c850c1c91f8a19611af6204004bd","title":"Обновите ядро Home Assistant","description":"","contributors":["PaTara43","makyul"],"headings":[],"subtitles":[{"depth":2,"value":"Установка","anchor":"#установка"},{"depth":2,"value":"Проверка","anchor":"#проверка"}],"content":"\n**В этой статье содержатся инструкции по обновлению вашего существующего ядра Home Assistant с интеграцией Robonomics.**\n\n<robo-wiki-picture src=\"home-assistant/ha_core.png\" />\n\n<robo-wiki-note type=\"warning\" title=\"DISCLAIMER\">\n\n  1. Предполагается, что установка вашего ядра Home Assistant была завершена в соответствии с [официальными инструкциями](https://www.home-assistant.io/installation/raspberrypi#install-home-assistant-core) и у вас есть пользователь <u>homeassistant</u> и среда `venv`. Если это не так, следуйте инструкциям ниже, **но отредактируйте скрипт соответствующим образом**.\n  2. IPFS будет установлен и запущен как служба <u>systemd</u> на хост-машине.\n  3. Предполагается, что у вас установлен [Python3.10](https://www.python.org/downloads/) или более новая версия.\n\n</robo-wiki-note>\n\n## Установка\n\nСкачайте установочный скрипт и запустите его в терминале:\n\n<code-helper additionalLine=\"rasppi_username@rasppi_hostname\">\n\n  \n```shell\nwget https://raw.githubusercontent.com/airalab/robonomics-hass-utils/main/raspberry_pi/install_integration_core.sh\nbash install_integration_core.sh\n```\n\n</code-helper>\n\nВы увидите следующий вывод:\n\n<code-helper additionalLine=\"rasppi_username@rasppi_hostname\">\n\n\n```shell\n<...>\nhttps://raw.githubusercontent.com/airalab/robonomics-hass-utils/main/raspberry_pi/install_ipfs_arc_dependent.sh\n<...>\nIPFS daemon installed and launched, use ipfs-daemon.service to manage.\n<...>\nA    robonomics/utils.py\nChecked out revision 125.\nIntegration downloaded!\n```\n\n</code-helper>\n\nВ процессе установки вам будет предложено подтвердить перезапуск нескольких служб. Навигируйте с помощью клавиши `tab` и выберите опцию `yes`.\n  \n<robo-wiki-note type=\"note\" title=\"Error: `custom_components` exists\">\n\n  Возможно, вы увидите ошибку вроде `mkdir: can't create directory 'custom_components': File exists`. Это означает, что у вас уже есть этот каталог с некоторыми установленными пользовательскими компонентами. Просто игнорируйте это сообщение.\n\n</robo-wiki-note>\n  \nПосле завершения перезагрузите Home Assistant.\n\n## Проверка\n\nПроверьте, что служба IPFS работает:\n\n<code-helper additionalLine=\"rasppi_username@rasppi_hostname\">\n\n```shell\nsystemctl status ipfs-daemon.service \n```\n\n</code-helper>\n\nВы увидите следующий вывод:\n\n<code-helper additionalLine=\"rasppi_username@rasppi_hostname\">\n\n```\n● ipfs-daemon.service - IPFS Daemon Service\n     Loaded: loaded (/etc/systemd/system/ipfs-daemon.service; enabled; preset: enabled)\n     Active: active (running) since Thu 2022-11-03 11:30:39 UTC; 14min ago\n   Main PID: 4400 (ipfs)\n      Tasks: 12 (limit: 4416)\n     Memory: 141.9M\n        CPU: 3min 5.031s\n     CGroup: /system.slice/ipfs-daemon.service\n             └─4400 /usr/local/bin/ipfs daemon\n```\n\n</code-helper>\n","tools":["Ubuntu Server 22.04.3 LTS for RaspPi https://ubuntu.com/download/raspberry-pi","Home Assistant 2023.7.3 https://github.com/home-assistant/core","Robonomics Home Assistant Integration 1.6.1 https://github.com/airalab/homeassistant-robonomics-integration","robonomics-interface 1.6.1 https://github.com/Multi-Agent-io/robonomics-interface/","IPFS 0.21.0 https://docs.ipfs.tech/"],"fileInfo":{"path":"ru/hass-core-upgrade.md","name":"hass-core-upgrade"}}},"context":{}}