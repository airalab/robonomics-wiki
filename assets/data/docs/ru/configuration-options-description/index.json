{"hash":"35c45e2167e6e2a241e89eb6a96e583597cf39f5","data":{"doc":{"id":"bc82c01b7a4e599133a92df5625ef3ea","title":"Configuration Options Description","description":"","contributors":["LoSk-p","Vourhey","tubleronchik"],"translated":false,"headings":[],"subtitles":[{"depth":2,"value":"Scenario #1: Connect SDS011 to serial port","anchor":"#scenario-1-connect-sds011-to-serial-port"},{"depth":2,"value":"Scenario #2: Connect SDS011 via MQTT","anchor":"#scenario-2-connect-sds011-via-mqtt"},{"depth":2,"value":"Scenario #3: Publish sensors data to Datalog","anchor":"#scenario-3-publish-sensors-data-to-datalog"}],"content":"\nBasically, you can think of the Sensors Connectivity module as a black box with one input (sensor data) and many outputs.\nFor now only SDS011 sensor is supported, but if you are familiar with Python it'd be easy to add other sensors as well.\n\nAt the moment it's possible to publish data to [Luftdaten](https://luftdaten.info/) and [Robonomics Network Datalog](https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/explorer). \nRobonomics team has prepared a few ready-to-use configurations.\nYou can find the full overview of the configuration fields [here.](https://github.com/airalab/sensors-connectivity/tree/master/connectivity/config)\n\nThis Article contains advanced configurations scenarios. If you haven't read the previous article [\"Sensors Connectivity Module Setup\"](/docs/sensors-connectivity-setup/) yet, please read it first.\n\n## Scenario #1: Connect SDS011 to serial port\n\nThe easiest and the most straightforward way to connect your sensor to the network by the serial port.\n\nFirst, connect you board to a USB port, and find path to board with next command:\n\n```bash\n$ ls -l /dev/serial/by-id\ntotal 0\nlrwxrwxrwx 1 root root 13 сен  5 14:01 usb-1a86_USB2.0-Ser_-if00-port0 -> ../../ttyUSB0\n```\n\nIn the example it is `ttyUSB0`.\nNow you need to create a new configuration file, or edit the existing configuration file from the previous [article](/docs/sensors-connectivity-setup/#json-configuration).\nInsert what you see below to the configuration file. Write the full path to your database in the file.\n\n<robo-wiki-note type=\"okay\">\nDon't forget to insert your board path to port statement and latitude and longitude of a sensor to geo statement.\n</robo-wiki-note>\n\n```json\n{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"\"\n   },\n   \"comstation\":{\n      \"enable\":true,\n      \"port\":\"/dev/<YOUR-PATH-TO-BOARD>\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": false,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": false,\n      \"host\": \"localhost\",\n      \"port\": 1883,\n      \"topic\": \"/freertos_mqtt_robonomics_example/#\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"luftdaten\": {\n      \"enable\": false\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": false,\n      \"suri\": \"\",\n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": false,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}\n```\n\nAnd start Sensors Connectivity module.\n\n## Scenario #2: Connect SDS011 via MQTT\n\n**Attention**, Robonomics sensors firmware doesn't work with MQTT. These settings for additional sensors, which work through MQTT. \nExample of those sensors you can find [here.](/docs/freertos-mqtt/)\n\nLet's assume you already have MQTT broker [mosquitto](https://mosquitto.org/download/) or similar.\n\nAgain as in the previous scenario you need to create a new configuration file, or edit the existing configuration file from the previous [article](/docs/sensors-connectivity-setup/#json-configuration).\nInsert what you see below to the configuration file. Write the full path to your database in the file.\n\n<robo-wiki-note type=\"okay\">\nDon't forget to insert MQTT broker port in the host field, MQTT broker port in the port field and topic where your sensors sends data to in the topic field.\n</robo-wiki-note>\n\n<robo-wiki-note type=\"note\" title=\"Optional\">\nYou can also specify username and password to connect to the broker if it is required.\n</robo-wiki-note>\n\n```json\n{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"\"\n   },\n   \"comstation\":{\n      \"enable\":false,\n      \"port\":\"/dev/ttyUSB0\",\n      \"work_period\":300,\n      \"geo\":\"\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": false,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": true,\n      \"host\": \"<MQTT-broker-host>\",\n      \"port\": \"<MQTT-broker-port>\",\n      \"topic\": \"<Topic where your sensor sends data to>\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"luftdaten\": {\n      \"enable\": false\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": false,\n      \"suri\": \"\",\n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": false,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}\n```\n\nAnd start Sensors Connectivity module.\n\n## Scenario #3: Publish sensors data to Datalog\n\nIn this scenario it doesn't matter how data is being gathered: over HTTP, MQTT or COM. Let's look at the default HTTP configuration.\n\nThis scenario shows how to upload your sensor's data to Robonomics Parachain Datalog. \nRobonomics Datalog is analog of \"Telemetry\" in Web3 technologies. \nDatalog function is meant to create a sensor's data snapshot each period of time, which increase reliability of data.\n\nJust like in the previous scenario you need to create a new configuration file, or edit the existing configuration file from the previous [article](/docs/sensors-connectivity-setup/#json-configuration). \nInsert what you see below to the configuration file. Write the full path to your database in the file.\n\nHere we work with `datalog` field. It includes next lines:\n\n- `suri` - a private key from robonomics parachain account; \n- `dump_interval` - specify a period of time for collecting log in seconds;\n- `temporal_username`, `temporal_password` - Credentials to upload files to [Temporal.Cloud](https://temporal.cloud/) (Optional);\n- `pinata_api`, `pinata_secret` - Credentials to upload files to [pinata service](https://docs.pinata.cloud#connecting-to-the-api)(Optional).\n\n<robo-wiki-note type=\"warning\">\nYou have to have XRT on your account!\n</robo-wiki-note>\n\nInsert what required to file:\n\n```json\n{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"\"\n   },\n   \"comstation\":{\n      \"enable\":false,\n      \"port\":\"/dev/ttyUSB0\",\n      \"work_period\":300,\n      \"geo\":\"59.944954,30.294534\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": true,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": false,\n      \"host\": \"localhost\",\n      \"port\": 1883,\n      \"topic\": \"/freertos_mqtt_robonomics_example/#\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"luftdaten\": {\n      \"enable\": false\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": true,\n      \"suri\": \"<YOUR-SECRET-KEY>\", \n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": true,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}\n```\n\nAnd start Sensors Connectivity module.","tools":[],"fileInfo":{"path":"ru/configuration-options-description.md","name":"configuration-options-description"}}},"context":{}}