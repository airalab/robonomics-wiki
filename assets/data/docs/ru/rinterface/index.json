{"hash":"c752e5c48da5b65b0aa4415e850bba1baf527db6","data":{"doc":{"id":"e0e58c471d663b89fbb2715cdcdf808d","title":"Python-интерфейс и Robonomics IO","description":"","contributors":["PaTara43"],"headings":[],"subtitles":[{"depth":2,"value":"robonomics-interface","anchor":"#robonomics-interface"},{"depth":3,"value":"Установка","anchor":"#установка"},{"depth":3,"value":"Пример использования","anchor":"#пример-использования"},{"depth":2,"value":"Инструмент командной строки","anchor":"#инструмент-командной-строки"}],"content":"\n**Некоторые экстрансики, реализованные в палетах Robonomics, сложно отправить из приложения Polkadot. Более того, есть \nнеобходимость взаимодействия с этой функциональностью с использованием языков программирования. Для этой цели был разработан простой инструмент на Python\nназываемый [robonomics-interface](https://github.com/Multi-Agent-io/robonomics-interface). Это обертка над поддерживаемым polkascan \n[py-substrate-interface](https://github.com/polkascan/py-substrate-interface). Ниже приведено краткое описание этого пакета\nи некоторые полезные ссылки и примеры. Также обсуждаются инструменты командной строки.**\n\n## robonomics-interface\n\nДоступно на [PyPi](https://pypi.org/project/robonomics-interface/) готовый пакет для загрузки и установки.\nТакже имеется подробная сгенерированная из docstring [документация](https://multi-agent-io.github.io/robonomics-interface/).\n\nВ целом, это инструмент для разработчиков, которые хотят взаимодействовать с блокчейном Robonomics с помощью программных инструментов. Почти \nвсе проекты на Python команды Robonomics, которые взаимодействуют с парачейном, используют этот интерфейс.\n\n### Установка\n\nПроцесс установки требует наличия у пользователя установленного Python 3.8 или выше. Ни `x86`, ни `arm7`, ни `arm8`\nархитектуры не требуют процесса компиляции. Все пакеты собраны и опубликованы разработчиками зависимостей.\n\nВ качестве инструмента установки используется `pip`:\n\n```bash\n$ pip3 install robonomics_interface\n```\n\n### Пример использования\n\nОсновная идея заключается в создании экземпляра `Account` и использовании его для создания экземпляров, связанных с палетами.\n\n\n```python\nfrom robonomicsinterface import Account, Datalog\naccount = Account()\ndatalog_ = Datalog(account)\ndatalog_.get_item(addr=\"4G1V6yyvrkd3Z57H1giUky8RTRX3SZieRvuDpQzK4knNRy5R\",index=2)\n\n>>> (1657226418528, 'blah')\n```\n\n<robo-wiki-note type=\"note\" title=\"Local node\">\n\n  Также возможно использование пользовательских конечных точек (например, локального узла для тестирования):\n\n  ```python\n  account = Account(remote_ws=\"ws://127.0.0.1:9944\")\n  ```\n\n</robo-wiki-note>\n\nТакже возможно отправлять экстрансики:\n\n```python\nfrom robonomicsinterface import Account, Datalog\naccount = Account(seed=\"one two three four five six seven eight nine ten eleven twelve\")\ndatalog_ = Datalog(account)\ndatalog_.record(\"Hello, Robonomics!\")\n\n>>> 0xb2f742b6164ffc14b75a21188b37287c2416e6617635805e0a77db12773f6068  # this is an extrinsic hash\n```\n\n<robo-wiki-note type=\"note\" title=\"Docs\">\n\n  Как уже было сказано, больше примеров доступно на странице [документации](https://multi-agent-io.github.io/robonomics-interface/).\n\n</robo-wiki-note>\n\n## Инструмент командной строки\n\n`robonomics-interface` также содержит инструменты командной строки Python `click`, которые можно использовать для прототипирования и быстрых тестов. Он устанавливается\nвместе с пакетом и доступен в терминале:\n\n```bash\n$ robomomics_interface --help\n\n#Usage: robonomics_interface [OPTIONS] COMMAND [ARGS]...\n#\n#Options:\n#  --help  Show this message and exit.\n#\n#Commands:\n#  read   Subscribe to datalog/launch events in the chain\n#  write  Send various extrinsics (launch commands or record datalogs)\n```\n\nВы можете попробовать использовать его с локальным узлом. Принят философия конвейера.\n\n```bash\n$ echo \"Hello, Robonomics!\" | robonomics_interface write datalog -s \"//Alice\" --remote_ws \"ws://127.0.0.1:9944\"\n\n#0x22dbac7d25d2ee67c7d985f074163f674c8c9b4c554e545ca4c7186307e9023c  # this is an extrinsic hash\n```","tools":["Robonomics 2.3.0 https://github.com/airalab/robonomics","robonomics_interface 1.3.5 https://github.com/Multi-Agent-io/robonomics-interface"],"fileInfo":{"path":"ru/rinterface.md","name":"rinterface"}}},"context":{}}