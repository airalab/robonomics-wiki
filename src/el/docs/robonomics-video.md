---
title: Υπηρεσία Βίντεο Robonomics
contributors: [nakata5321]
---

Αυτό το άρθρο δείχνει πώς να προσθέσετε μια IP κάμερα στο Home Assistant και να στείλετε βίντεο στην Υπηρεσία Βίντεο του Robonomics.

Για να συνδέσετε μια κάμερα στο Home Assistant, πρέπει να γνωρίζετε τη διεύθυνση IP της και να δημιουργήσετε ένα τοπικό λογαριασμό κάμερας για να συνδεθείτε στη ροή RTSP.

{% roboWikiNote {type: "warning"}%} Καθώς αυτό γίνεται διαφορετικά για κάθε κάμερα, αυτή η διαδικασία δεν λαμβάνεται υπόψη σε αυτό το άρθρο.
{% endroboWikiNote %}

Απαιτήσεις:
- IP κάμερα
- Διαμορφωμένος τοπικός λογαριασμός κάμερας
- Διεύθυνση IP της κάμερας
- Διαμορφωμένο Home Assistant

{% roboWikiNote {type: "warning"}%} Αυτό το άρθρο υποθέτει ότι έχετε μια γενική IP κάμερα χωρίς επιλογές RTZ (περιστροφή, κλίση, ζουμ). Αν έχετε μια κάμερα RTZ, ελέγξτε το άρθρο ["Κάμερα RTZ"](docs/ptz-camera). Και μετά επιστρέψτε στο δεύτερο βήμα εδώ. {% endroboWikiNote %}

## Σύνδεση της Κάμερας

Αρχικά, πρέπει να βρείτε το URL για τη ροή RTSP της κάμερας.
Για να το κάνετε αυτό, δοκιμάστε να εισάγετε το ακόλουθο ερώτημα στο Διαδίκτυο: "<ΟΝΟΜΑ_ΚΑΜΕΡΑΣ> ροή RTSP".
Το URL της ροής πρέπει να ξεκινά με `rtsp://<Διεύθυνση_IP>...`.

Αυτό το άρθρο χρησιμοποιεί μια κάμερα "Tapo" και η διαδρομή της ροής είναι `rtsp://<Διεύθυνση_IP>/stream1`.

Ανοίξτε το Home Assistant και πηγαίνετε στο "Ρυθμίσεις"-> "Συσκευές & Υπηρεσίες". Πατήστε το κουμπί "ΠΡΟΣΘΗΚΗ ΕΝΣΩΜΑΤΩΣΗΣ" και
αρχίστε να πληκτρολογείτε "Γενική Κάμερα" ενσωμάτωση. Επιλέξτε τη.

{% roboWikiPicture {src:"docs/home-assistant/generic.jpg", alt:"hass"} %}{% endroboWikiPicture %}

Στο παράθυρο διαμόρφωσης παρέχετε τις ακόλουθες πληροφορίες:
- URL Πηγής Ροής - Το URL της ροής RTSP της κάμερας
- Όνομα Χρήστη - γράψτε ένα όνομα χρήστη του τοπικού λογαριασμού κάμερας
- Κωδικός - γράψτε έναν κωδικό για τον τοπικό λογαριασμό κάμερας

{% roboWikiPicture {src:"docs/home-assistant/genericconf.jpg", alt:"genericconf"} %}{% endroboWikiPicture %}

Κύλιση προς τα κάτω στις ρυθμίσεις και πατήστε το κουμπί "Υποβολή".

Στο παράθυρο Προεπισκόπησης ενεργοποιήστε το πλαίσιο ελέγχου "Αυτή η εικόνα φαίνεται καλή." και πατήστε το κουμπί "Υποβολή". Στη συνέχεια - "Ολοκλήρωση".

{% roboWikiPicture {src:"docs/home-assistant/preview-camera.jpg", alt:"preview-camera"} %}{% endroboWikiPicture %}

### Προσθήκη στον πίνακα ελέγχου

Επιπλέον, μπορείτε να προσθέσετε τη ροή στον πίνακα ελέγχου σας. Για να το κάνετε αυτό, πλοηγηθείτε στον πίνακα ελέγχου και δημιουργήστε μια νέα κάρτα "Εικόνα Μια ματιά". Επιπλέον βήματα:
- εισαγάγετε τον "Τίτλο" που επιθυμείτε
- διαγράψτε τα δεδομένα από το "Μονοπάτι Εικόνας"
- επιλέξτε την κάμερα στο "Οντότητα Κάμερας"
- στην "Προβολή Κάμερας", επιλέξτε "Ζωντανή" ώστε να υπάρχει λιγότερη καθυστέρηση

Και αποθηκεύστε το.
{% roboWikiPicture {src:"docs/home-assistant/camera_picture_glance.jpg", alt:"camera_picture_glance"} %}{% endroboWikiPicture %}

## Έλεγχος φακέλου πολυμέσων

Πριν σταλεί στην Υπηρεσία Βίντεο Robonomics, το βίντεο πρέπει να αποθηκευτεί σε ένα φάκελο και το Home Assistant πρέπει να έχει πρόσβαση σε αυτόν τον φάκελο.
Η πιο εύκολη επιλογή σε αυτήν την περίπτωση είναι να χρησιμοποιήσετε ένα πακέτο πολυμέσων, στο οποίο το Home Assistant αποθηκεύει όλα τα πολυμέσα.

- Αν χρησιμοποιείτε HAOS ή Προ-εγκατεστημένη Εικόνα, το Home Assistant **έχει ήδη τον Φάκελο Πολυμέσων**.
- Αν χρησιμοποιείτε τον Πυρήνα του Home Assistant, πρέπει να μεταβείτε στον φάκελο `.homeassistant` και να δημιουργήσετε έναν φάκελο `media` μέσα σε αυτόν.
- Αν χρησιμοποιείτε το Home Assistant Docker, προσθέστε τη γραμμή ` -v /ΔΙΑΔΡΟΜΗ_ΠΡΟΣ_ΤΑ_ΠΟΛΥΜΕΣΑ:/media \` στην εντολή Docker.

Για να ελέγξετε ότι όλα έχουν ρυθμιστεί σωστά, μεταβείτε στην καρτέλα "Πολυμέσα" -> "τοπικά πολυμέσα" στο Home Assistant σας.
Θα πρέπει να δείτε έναν κενό φάκελο (χωρίς σφάλματα):

{% roboWikiPicture {src:"docs/home-assistant/media-folder.jpg", alt:"media-folder"} %}{% endroboWikiPicture %}

## Κλήση Υπηρεσίας

Για να στείλετε ένα βίντεο στο Robonomics, πρέπει να καλέσετε μια αφιερωμένη υπηρεσία στο Home Assistant.
Σε αυτό το άρθρο γίνεται αυτό χειροκίνητα, αλλά μπορείτε να δημιουργήσετε μια αυτοματοποίηση για αυτό.

Για να το κάνετε αυτό, μεταβείτε στα "Εργαλεία Προγραμματιστή" -> "Υπηρεσίες" και βρείτε την "Robonomics: Αποθήκευση εγγραφής στο Robonomics".

{% roboWikiPicture {src:"docs/home-assistant/robonomics-service.jpg", alt:"robonomics-service"} %}{% endroboWikiPicture %}

Στους "Στόχους" επιλέξτε την οντότητα της κάμεράς σας.
Στο "Μονοπάτι για αποθήκευση της εγγραφής" πρέπει να παρέχετε τον απόλυτο δρόμο προς τον φάκελο,
όπου το Home Assistant μπορεί να αποθηκεύσει το βίντεο:
- Για την Προ-εγκατεστημένη εικόνα - `/home/homeassistant/.homeassistant/media`;
- Για το HA OS ή το Home Assistant Docker - `/media`- Για το Home Assistant Core - Διαδρομή προς τον προηγουμένως δημιουργημένο φάκελο πολυμέσων.

Επιπλέον, μπορείτε να επιλέξετε τη Διάρκεια Εγγραφής.

Συμπληρώστε τα δεδομένα και καλέστε την υπηρεσία με το κουμπί "ΚΛΗΣΗ ΥΠΗΡΕΣΙΑΣ".

## DAPP

Για να δείτε το παραγόμενο βίντεο, μεταβείτε στο [Robonomics DAPP](https://vol4tim.github.io/videostream/).

{% roboWikiPicture {src:"docs/home-assistant/video-dapp.jpg", alt:"video-dapp"} %}{% endroboWikiPicture %}

Επικολλήστε τη διεύθυνση λογαριασμού του ελεγκτή σας και κάντε κλικ στο κουμπί παρακάτω. Περιμένετε τη διαδικασία "Αναζήτηση Διδύμων".
Ως αποτέλεσμα, θα λάβετε ένα IPFS CID με όλα τα καταγεγραμμένα βίντεο.

{% roboWikiPicture {src:"docs/home-assistant/video-ipfs.jpg", alt:"video-ipfs"} %}{% endroboWikiPicture %}

Στη συνέχεια, επιλέξτε τον λογαριασμό του ελεγκτή (ή οποιονδήποτε άλλο) από τη λίστα αναπτυσσόμενων και υπογράψτε ένα μήνυμα για εξουσιοδότηση στην πύλη Web3 IPFS για να κατεβάσετε όλα τα βίντεο. Ως αποτέλεσμα, θα λάβετε όλα τα βίντεο που έχουν καταγραφεί από το έξυπνο σπίτι σας.

{% roboWikiPicture {src:"docs/home-assistant/show-videos.jpg", alt:"show-videos"} %}{% endroboWikiPicture %}

Καθώς όλα τα βίντεο στον φάκελο είναι κρυπτογραφημένα με το κλειδί του ελεγκτή, πρέπει να το εισάγετε για να αποκρυπτογραφήσετε τα βίντεο. Μετά από αυτό, το κουμπί αναπαραγωγής βίντεο ενεργοποιείται. Κάντε κλικ για να κατεβάσετε το βίντεο.

{% roboWikiPicture {src:"docs/home-assistant/video-seed.jpg", alt:"video-seed"} %}{% endroboWikiPicture %}